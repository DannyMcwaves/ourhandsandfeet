webpackJsonp([1],{10:function(e,t){"use strict";function setHashKey(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function baseExtend(e,t,i){for(var n=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(isObject(a)||isFunction(a))for(var s=Object.keys(a),u=0,c=s.length;u<c;u++){var l=s[u],p=a[l];i&&isObject(p)?(isObject(e[l])||(e[l]=Array.isArray(p)?[]:{}),baseExtend(e[l],[p],!0)):e[l]=p}}return setHashKey(e,n),e}function status(e){if(e.status>=200&&e.status<400)return e.json().catch(function(e){return null});throw e}function isDefined(e){return"undefined"!=typeof e}function camelCase(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,i,n){return n?i.toUpperCase():i})}function parseQueryString(e){var t=void 0,i=void 0,n={};return forEach((e||"").split("&"),function(e){e&&(i=e.split("="),t=decodeURIComponent(i[0]),n[t]=!isDefined(i[1])||decodeURIComponent(i[1]))}),n}function isString(e){return"string"==typeof e}function isObject(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":i(e))}function isFunction(e){return"function"==typeof e}function joinUrl(e,t){if(/^(?:[a-z]+:)?\/\//i.test(t))return t;var i=[e,t].join("/"),n=function(e){return e.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")};return n(i)}function isBlankObject(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":i(e))&&!Object.getPrototypeOf(e)}function isArrayLike(e){if(null===e||isWindow(e))return!1}function isWindow(e){return e&&e.window===e}function extend(e){return baseExtend(e,n.call(arguments,1),!1)}function merge(e){return baseExtend(e,n.call(arguments,1),!0)}function forEach(e,t,n){var r=void 0,o=void 0;if(e)if(isFunction(e))for(r in e)"prototype"===r||"length"===r||"name"===r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(Array.isArray(e)||isArrayLike(e)){var a="object"!==("undefined"==typeof e?"undefined":i(e));for(r=0,o=e.length;r<o;r++)(a||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==forEach)e.forEach(t,n,e);else if(isBlankObject(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(n,e[r],r,e);return e}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.status=status,t.isDefined=isDefined,t.camelCase=camelCase,t.parseQueryString=parseQueryString,t.isString=isString,t.isObject=isObject,t.isFunction=isFunction,t.joinUrl=joinUrl,t.isBlankObject=isBlankObject,t.isArrayLike=isArrayLike,t.isWindow=isWindow,t.extend=extend,t.merge=merge,t.forEach=forEach;var n=[].slice},11:function(e,t,i){"use strict";function updateOverrideContexts(e,t){var i=e.length;for(t>0&&(t-=1);t<i;++t)updateOverrideContext(e[t].overrideContext,t,i)}function createFullOverrideContext(e,t,i,r,o){var a={},s=(0,n.createOverrideContext)(a,e.scope.overrideContext);return"undefined"!=typeof o?(a[e.key]=o,a[e.value]=t):a[e.local]=t,updateOverrideContext(s,i,r),s}function updateOverrideContext(e,t,i){var n=0===t,r=t===i-1,o=t%2===0;e.$index=t,e.$first=n,e.$last=r,e.$middle=!(n||r),e.$odd=!o,e.$even=o}function getItemsSourceExpression(e,t){return e.behaviorInstructions.filter(function(e){return e.originalAttrName===t})[0].attributes.items.sourceExpression}function unwrapExpression(e){for(var t=!1;e instanceof n.BindingBehavior;)e=e.expression;for(;e instanceof n.ValueConverter;)e=e.expression,t=!0;return t?e:null}function isOneTime(e){for(;e instanceof n.BindingBehavior;){if("oneTime"===e.name)return!0;e=e.expression}return!1}function updateOneTimeBinding(e){e.call&&e.mode===r?e.call(n.sourceContext):e.updateOneTimeBindings&&e.updateOneTimeBindings()}function indexOf(e,t,i,n){if(!i)return e.indexOf(t);for(var r=e.length,o=n||0;o<r;o++)if(i(e[o],t))return o;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.updateOverrideContexts=updateOverrideContexts,t.createFullOverrideContext=createFullOverrideContext,t.updateOverrideContext=updateOverrideContext,t.getItemsSourceExpression=getItemsSourceExpression,t.unwrapExpression=unwrapExpression,t.isOneTime=isOneTime,t.updateOneTimeBinding=updateOneTimeBinding,t.indexOf=indexOf;var n=i(3),r=n.bindingMode.oneTime},13:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Authentication=void 0;var n,r,o=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),a=i(0),s=i(7),u=i(17),c=i(10);t.Authentication=(n=(0,a.inject)(u.Storage,s.BaseConfig),n(r=function(){function Authentication(e,t){_classCallCheck(this,Authentication),this.storage=e,this.config=t.current,this.tokenName=this.config.tokenPrefix?this.config.tokenPrefix+"_"+this.config.tokenName:this.config.tokenName,this.idTokenName=this.config.tokenPrefix?this.config.tokenPrefix+"_"+this.config.idTokenName:this.config.idTokenName}return Authentication.prototype.getLoginRoute=function(){return this.config.loginRoute},Authentication.prototype.getLoginRedirect=function(){return this.initialUrl||this.config.loginRedirect},Authentication.prototype.getLoginUrl=function(){return this.config.baseUrl?(0,c.joinUrl)(this.config.baseUrl,this.config.loginUrl):this.config.loginUrl},Authentication.prototype.getSignupUrl=function(){return this.config.baseUrl?(0,c.joinUrl)(this.config.baseUrl,this.config.signupUrl):this.config.signupUrl},Authentication.prototype.getProfileUrl=function(){return this.config.baseUrl?(0,c.joinUrl)(this.config.baseUrl,this.config.profileUrl):this.config.profileUrl},Authentication.prototype.getToken=function(){return this.storage.get(this.tokenName)},Authentication.prototype.getPayload=function(){var e=this.storage.get(this.tokenName);return this.decomposeToken(e)},Authentication.prototype.decomposeToken=function(e){if(e&&3===e.split(".").length){var t=e.split(".")[1],i=t.replace(/-/g,"+").replace(/_/g,"/");try{return JSON.parse(decodeURIComponent(escape(window.atob(i))))}catch(n){return null}}},Authentication.prototype.setInitialUrl=function(e){this.initialUrl=e},Authentication.prototype.setToken=function(e,t){var i=e&&e[this.config.responseTokenProp],n=void 0;i&&((0,c.isObject)(i)&&(0,c.isObject)(i.data)?e=i:(0,c.isString)(i)&&(n=i)),!n&&e&&(n=this.config.tokenRoot&&e[this.config.tokenRoot]?e[this.config.tokenRoot][this.config.tokenName]:e[this.config.tokenName]),n&&this.storage.set(this.tokenName,n);var r=e&&e[this.config.responseIdTokenProp];r&&this.storage.set(this.idTokenName,r),this.config.loginRedirect&&!t?window.location.href=this.getLoginRedirect():t&&(0,c.isString)(t)&&(window.location.href=window.encodeURI(t))},Authentication.prototype.removeToken=function(){this.storage.remove(this.tokenName)},Authentication.prototype.isAuthenticated=function(){var e=this.storage.get(this.tokenName);if(!e)return!1;if(3!==e.split(".").length)return!0;var t=void 0;try{var i=e.split(".")[1],n=i.replace(/-/g,"+").replace(/_/g,"/");t=JSON.parse(window.atob(n)).exp}catch(r){return!1}return!t||Math.round((new Date).getTime()/1e3)<=t},Authentication.prototype.logout=function(t){var i=this;return new e(function(e){i.storage.remove(i.tokenName),i.config.logoutRedirect&&!t?window.location.href=i.config.logoutRedirect:(0,c.isString)(t)&&(window.location.href=t),e()})},o(Authentication,[{key:"tokenInterceptor",get:function(){var e=this.config,t=this.storage,i=this;return{request:function(n){if(i.isAuthenticated()&&e.httpInterceptor){var r=e.tokenPrefix?e.tokenPrefix+"_"+e.tokenName:e.tokenName,o=t.get(r);e.authHeader&&e.authToken&&(o=e.authToken+" "+o),n.headers.set(e.authHeader,o)}return n}}}}]),Authentication}())||r)}).call(t,i("bluebird"))},15:function(e,t){"use strict";function mi(e){throw new Error("History must implement "+e+"().")}Object.defineProperty(t,"__esModule",{value:!0});t.History=function(){function History(){}return History.prototype.activate=function(e){mi("activate")},History.prototype.deactivate=function(){mi("deactivate")},History.prototype.getAbsoluteRoot=function(){mi("getAbsoluteRoot")},History.prototype.navigate=function(e,t){mi("navigate")},History.prototype.navigateBack=function(){mi("navigateBack")},History.prototype.setTitle=function(e){mi("setTitle")},History}()},17:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0;var n,r,o=i(0),a=i(7);t.Storage=(n=(0,o.inject)(a.BaseConfig),n(r=function(){function Storage(e){_classCallCheck(this,Storage),this.config=e.current,this.storage=this._getStorage(this.config.storage)}return Storage.prototype.get=function(e){return this.storage.getItem(e)},Storage.prototype.set=function(e,t){return this.storage.setItem(e,t)},Storage.prototype.remove=function(e){return this.storage.removeItem(e)},Storage.prototype._getStorage=function(e){if("localStorage"===e){if("localStorage"in window&&null!==window.localStorage)return localStorage;throw new Error("Local Storage is disabled or unavailable.")}if("sessionStorage"===e){if("sessionStorage"in window&&null!==window.sessionStorage)return sessionStorage;throw new Error("Session Storage is disabled or unavailable.")}throw new Error("Invalid storage type specified: "+e)},Storage}())||r)},18:function(e,t,i){"use strict";function injectAureliaHideStyleAtHead(){n.DOM.injectStyles(o)}function injectAureliaHideStyleAtBoundary(e){n.FEATURE.shadowDOM&&e&&!e.hasAureliaHideStyle&&(e.hasAureliaHideStyle=!0,n.DOM.injectStyles(o,e))}Object.defineProperty(t,"__esModule",{value:!0}),t.aureliaHideClassName=void 0,t.injectAureliaHideStyleAtHead=injectAureliaHideStyleAtHead,t.injectAureliaHideStyleAtBoundary=injectAureliaHideStyleAtBoundary;var n=i(1),r=t.aureliaHideClassName="aurelia-hide",o="."+r+" { display:none !important; }"},20:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=void 0;var n,r,o=i(10),a=i(7),s=i(0);t.Popup=(n=(0,s.inject)(a.BaseConfig),n(r=function(){function Popup(e){_classCallCheck(this,Popup),this.config=e.current,this.popupWindow=null,this.polling=null,this.url=""}return Popup.prototype.open=function(e,t,i,n){this.url=e;var r=this.stringifyOptions(this.prepareOptions(i||{}));return this.popupWindow=window.open(e,t,r),this.popupWindow&&this.popupWindow.focus&&this.popupWindow.focus(),this},Popup.prototype.eventListener=function(t){var i=this,n=new e(function(e,n){i.popupWindow.addEventListener("loadstart",function(r){if(0===r.url.indexOf(t)){var a=document.createElement("a");if(a.href=r.url,a.search||a.hash){var s=a.search.substring(1).replace(/\/$/,""),u=a.hash.substring(1).replace(/\/$/,""),c=(0,o.parseQueryString)(u),l=(0,o.parseQueryString)(s);(0,o.extend)(l,c),l.error?n({error:l.error}):e(l),i.popupWindow.close()}}}),popupWindow.addEventListener("exit",function(){n({data:"Provider Popup was closed"})}),popupWindow.addEventListener("loaderror",function(){deferred.reject({data:"Authorization Failed"})})});return n},Popup.prototype.pollPopup=function(){var t=this,i=this,n=new e(function(e,n){t.polling=setInterval(function(){try{var t=document.location.host,r=i.popupWindow.location.host;if(r===t&&(i.popupWindow.location.search||i.popupWindow.location.hash)){var a=i.popupWindow.location.search.substring(1).replace(/\/$/,""),s=i.popupWindow.location.hash.substring(1).replace(/[\/$]/,""),u=(0,o.parseQueryString)(s),c=(0,o.parseQueryString)(a);(0,o.extend)(c,u),c.error?n({error:c.error}):e(c),i.popupWindow.close(),clearInterval(i.polling)}}catch(l){}i.popupWindow?i.popupWindow.closed&&(clearInterval(i.polling),n({data:"Problem poll popup"})):(clearInterval(i.polling),n({data:"Provider Popup Blocked"}))},35)});return n},Popup.prototype.prepareOptions=function(e){var t=e.width||500,i=e.height||500;return(0,o.extend)({width:t,height:i,left:window.screenX+(window.outerWidth-t)/2,top:window.screenY+(window.outerHeight-i)/2.5},e)},Popup.prototype.stringifyOptions=function(e){var t=[];return(0,o.forEach)(e,function(e,i){t.push(i+"="+e)}),t.join(",")},Popup}())||r)}).call(t,i("bluebird"))},21:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AbstractRepeater=function(){function AbstractRepeater(e){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},e)}return AbstractRepeater.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},AbstractRepeater.prototype.views=function(){throw new Error("subclass must implement `views`")},AbstractRepeater.prototype.view=function(e){throw new Error("subclass must implement `view`")},AbstractRepeater.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},AbstractRepeater.prototype.addView=function(e,t){throw new Error("subclass must implement `addView`")},AbstractRepeater.prototype.insertView=function(e,t,i){throw new Error("subclass must implement `insertView`")},AbstractRepeater.prototype.moveView=function(e,t){throw new Error("subclass must implement `moveView`")},AbstractRepeater.prototype.removeAllViews=function(e,t){throw new Error("subclass must implement `removeAllViews`")},AbstractRepeater.prototype.removeViews=function(e,t,i){throw new Error("subclass must implement `removeView`")},AbstractRepeater.prototype.removeView=function(e,t,i){throw new Error("subclass must implement `removeView`")},AbstractRepeater.prototype.updateBindings=function(e){throw new Error("subclass must implement `updateBindings`")},AbstractRepeater}()},22:function(e,t){"use strict";function behaviorRequiresLifecycle(e){var t=e.type,n=null!==t.elementName?t.elementName:t.attributeName;return i.indexOf(n)===-1&&(t.handlesAttached||t.handlesBind||t.handlesCreated||t.handlesDetached||t.handlesUnbind)||t.viewFactory&&viewsRequireLifecycle(t.viewFactory)||e.viewFactory&&viewsRequireLifecycle(e.viewFactory)}function targetRequiresLifecycle(e){var t=e.behaviorInstructions;if(t)for(var i=t.length;i--;)if(behaviorRequiresLifecycle(t[i]))return!0;return e.viewFactory&&viewsRequireLifecycle(e.viewFactory)}function viewsRequireLifecycle(e){if("_viewsRequireLifecycle"in e)return e._viewsRequireLifecycle;if(e._viewsRequireLifecycle=!1,e.viewFactory)return e._viewsRequireLifecycle=viewsRequireLifecycle(e.viewFactory),e._viewsRequireLifecycle;if(e.template.querySelector(".au-animate"))return e._viewsRequireLifecycle=!0,!0;for(var t in e.instructions)if(targetRequiresLifecycle(e.instructions[t]))return e._viewsRequireLifecycle=!0,!0;return e._viewsRequireLifecycle=!1,!1}Object.defineProperty(t,"__esModule",{value:!0}),t.viewsRequireLifecycle=viewsRequireLifecycle;var i=t.lifecycleOptionalBehaviors=["focus","if","repeat","show","with"]},23:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayRepeatStrategy=void 0;var n=i(11),r=i(3);t.ArrayRepeatStrategy=function(){function ArrayRepeatStrategy(){}return ArrayRepeatStrategy.prototype.getCollectionObserver=function(e,t){return e.getArrayObserver(t)},ArrayRepeatStrategy.prototype.instanceChanged=function(t,i){var r=this,o=i.length;if(!i||0===o)return void t.removeAllViews(!0,!t.viewsRequireLifecycle);var a=t.views(),s=a.length;return 0===s?void this._standardProcessInstanceChanged(t,i):void(t.viewsRequireLifecycle?!function(){for(var u=a.slice(0),c=t.local,l=t.matcher(),p=[],h=[],d=0;d<s;d++){var f=u[d],v=f.bindingContext[c];(0,n.indexOf)(i,v,l)===-1?h.push(f):p.push(v)}var g=void 0,y=void 0;p.length>0?(y=t.removeViews(h,!0,!t.viewsRequireLifecycle),g=function(){for(var e=0;e<o;e++){var s=i[e],u=(0,n.indexOf)(p,s,l,e),c=void 0;if(u===-1){var h=(0,n.createFullOverrideContext)(t,i[e],e,o);t.insertView(e,h.bindingContext,h),p.splice(e,0,void 0)}else u===e?(c=a[u],p[u]=void 0):(c=a[u],t.moveView(u,e),p.splice(u,1),p.splice(e,0,void 0));c&&(0,n.updateOverrideContext)(c.overrideContext,e,o)}r._inPlaceProcessItems(t,i)}):(y=t.removeAllViews(!0,!t.viewsRequireLifecycle),g=function(){return r._standardProcessInstanceChanged(t,i)}),y instanceof e?y.then(g):g()}():this._inPlaceProcessItems(t,i))},ArrayRepeatStrategy.prototype._standardProcessInstanceChanged=function(e,t){for(var i=0,r=t.length;i<r;i++){var o=(0,n.createFullOverrideContext)(e,t[i],i,r);e.addView(o.bindingContext,o)}},ArrayRepeatStrategy.prototype._inPlaceProcessItems=function(e,t){for(var i=t.length,r=e.viewCount();r>i;)r--,e.removeView(r,!0,!e.viewsRequireLifecycle);for(var o=e.local,a=0;a<r;a++){var s=e.view(a),u=a===i-1,c=0!==a&&!u;s.bindingContext[o]===t[a]&&s.overrideContext.$middle===c&&s.overrideContext.$last===u||(s.bindingContext[o]=t[a],s.overrideContext.$middle=c,s.overrideContext.$last=u,e.updateBindings(s))}for(var l=r;l<i;l++){var p=(0,n.createFullOverrideContext)(e,t[l],l,i);e.addView(p.bindingContext,p)}},ArrayRepeatStrategy.prototype.instanceMutated=function(t,i,n){var o=this;if(t.__queuedSplices){for(var a=0,s=n.length;a<s;++a){var u=n[a],c=u.index,l=u.removed,p=u.addedCount;(0,r.mergeSplice)(t.__queuedSplices,c,l,p)}return void(t.__array=i.slice(0))}var h=this._runSplices(t,i.slice(0),n);h instanceof e&&!function(){var i=t.__queuedSplices=[],n=function runQueuedSplices(){if(!i.length)return t.__queuedSplices=void 0,void(t.__array=void 0);var n=o._runSplices(t,t.__array,i)||e.resolve();i=t.__queuedSplices=[],n.then(runQueuedSplices)};h.then(n)}()},ArrayRepeatStrategy.prototype._runSplices=function(t,i,r){for(var o=this,a=0,s=[],u=0,c=r.length;u<c;++u){for(var l=r[u],p=l.removed,h=0,d=p.length;h<d;++h){var f=t.removeView(l.index+a+s.length,!0);f instanceof e&&s.push(f)}a-=l.addedCount}if(s.length>0)return e.all(s).then(function(){var e=o._handleAddedSplices(t,i,r);(0,n.updateOverrideContexts)(t.views(),e)});var v=this._handleAddedSplices(t,i,r);(0,n.updateOverrideContexts)(t.views(),v)},ArrayRepeatStrategy.prototype._handleAddedSplices=function(e,t,i){for(var r=void 0,o=void 0,a=t.length,s=0,u=i.length;s<u;++s){var c=i[s],l=r=c.index,p=c.index+c.addedCount;for(("undefined"==typeof o||null===o||o>c.index)&&(o=r);l<p;++l){var h=(0,n.createFullOverrideContext)(e,t[l],l,a);e.insertView(l,h.bindingContext,h)}}return o},ArrayRepeatStrategy}()}).call(t,i("bluebird"))},24:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingSignaler=void 0;var n=i(3);t.BindingSignaler=function(){function BindingSignaler(){this.signals={}}return BindingSignaler.prototype.signal=function(e){var t=this.signals[e];if(t)for(var i=t.length;i--;)t[i].call(n.sourceContext)},BindingSignaler}()},25:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;t.HTMLSanitizer=function(){function HTMLSanitizer(){}return HTMLSanitizer.prototype.sanitize=function(e){return e.replace(i,"")},HTMLSanitizer}()},26:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MapRepeatStrategy=void 0;var n=i(11);t.MapRepeatStrategy=function(){function MapRepeatStrategy(){}return MapRepeatStrategy.prototype.getCollectionObserver=function(e,t){return e.getMapObserver(t)},MapRepeatStrategy.prototype.instanceChanged=function(t,i){var n=this,r=t.removeAllViews(!0,!t.viewsRequireLifecycle);return r instanceof e?void r.then(function(){return n._standardProcessItems(t,i)}):void this._standardProcessItems(t,i)},MapRepeatStrategy.prototype._standardProcessItems=function(e,t){var i=0,r=void 0;t.forEach(function(o,a){r=(0,n.createFullOverrideContext)(e,o,i,t.size,a),e.addView(r.bindingContext,r),++i})},MapRepeatStrategy.prototype.instanceMutated=function(t,i,r){var o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,p=[],h=void 0;for(a=0,s=r.length;a<s;++a)switch(l=r[a],o=l.key,l.type){case"update":c=this._getViewIndexByKey(t,o),h=t.removeView(c,!0,!t.viewsRequireLifecycle),h instanceof e&&p.push(h),u=(0,n.createFullOverrideContext)(t,i.get(o),c,i.size,o),t.insertView(c,u.bindingContext,u);break;case"add":u=(0,n.createFullOverrideContext)(t,i.get(o),i.size-1,i.size,o),t.insertView(i.size-1,u.bindingContext,u);break;case"delete":if(void 0===l.oldValue)return;c=this._getViewIndexByKey(t,o),h=t.removeView(c,!0,!t.viewsRequireLifecycle),h instanceof e&&p.push(h);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}p.length>0?e.all(p).then(function(){(0,n.updateOverrideContexts)(t.views(),0)}):(0,n.updateOverrideContexts)(t.views(),0)},MapRepeatStrategy.prototype._getViewIndexByKey=function(e,t){var i=void 0,n=void 0,r=void 0;for(i=0,n=e.viewCount();i<n;++i)if(r=e.view(i),r.bindingContext[e.key]===t)return i},MapRepeatStrategy}()}).call(t,i("bluebird"))},27:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NullRepeatStrategy=function(){function NullRepeatStrategy(){}return NullRepeatStrategy.prototype.instanceChanged=function(e,t){e.removeAllViews(!0)},NullRepeatStrategy.prototype.getCollectionObserver=function(e,t){},NullRepeatStrategy}()},28:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.NumberRepeatStrategy=void 0;var n=i(11);t.NumberRepeatStrategy=function(){function NumberRepeatStrategy(){}return NumberRepeatStrategy.prototype.getCollectionObserver=function(){return null},NumberRepeatStrategy.prototype.instanceChanged=function(t,i){var n=this,r=t.removeAllViews(!0,!t.viewsRequireLifecycle);return r instanceof e?void r.then(function(){return n._standardProcessItems(t,i)}):void this._standardProcessItems(t,i)},NumberRepeatStrategy.prototype._standardProcessItems=function(e,t){var i=e.viewCount(),r=void 0,o=void 0,a=void 0,s=void 0;if(t=Math.floor(t),s=i-t,s>0)for(s>i&&(s=i),r=0,o=s;r<o;++r)e.removeView(i-(r+1),!0,!e.viewsRequireLifecycle);else{for(r=i,o=t;r<o;++r)a=(0,n.createFullOverrideContext)(e,r,r,o),e.addView(a.bindingContext,a);(0,n.updateOverrideContexts)(e.views(),0)}},NumberRepeatStrategy}()}).call(t,i("bluebird"))},29:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RepeatStrategyLocator=void 0;var n=i(27),r=i(23),o=i(26),a=i(30),s=i(28);t.RepeatStrategyLocator=function(){function RepeatStrategyLocator(){this.matchers=[],this.strategies=[],this.addStrategy(function(e){return null===e||void 0===e},new n.NullRepeatStrategy),this.addStrategy(function(e){return e instanceof Array},new r.ArrayRepeatStrategy),this.addStrategy(function(e){return e instanceof Map},new o.MapRepeatStrategy),this.addStrategy(function(e){return e instanceof Set},new a.SetRepeatStrategy),this.addStrategy(function(e){return"number"==typeof e},new s.NumberRepeatStrategy)}return RepeatStrategyLocator.prototype.addStrategy=function(e,t){this.matchers.push(e),this.strategies.push(t)},RepeatStrategyLocator.prototype.getStrategy=function(e){for(var t=this.matchers,i=0,n=t.length;i<n;++i)if(t[i](e))return this.strategies[i];return null},RepeatStrategyLocator}()},30:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.SetRepeatStrategy=void 0;var n=i(11);t.SetRepeatStrategy=function(){function SetRepeatStrategy(){}return SetRepeatStrategy.prototype.getCollectionObserver=function(e,t){return e.getSetObserver(t)},SetRepeatStrategy.prototype.instanceChanged=function(t,i){var n=this,r=t.removeAllViews(!0,!t.viewsRequireLifecycle);return r instanceof e?void r.then(function(){return n._standardProcessItems(t,i)}):void this._standardProcessItems(t,i)},SetRepeatStrategy.prototype._standardProcessItems=function(e,t){var i=0,r=void 0;t.forEach(function(o){r=(0,n.createFullOverrideContext)(e,o,i,t.size),e.addView(r.bindingContext,r),++i})},SetRepeatStrategy.prototype.instanceMutated=function(t,i,r){var o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,p=[],h=void 0;for(a=0,s=r.length;a<s;++a)switch(l=r[a],o=l.value,l.type){case"add":u=(0,n.createFullOverrideContext)(t,o,i.size-1,i.size),t.insertView(i.size-1,u.bindingContext,u);break;case"delete":c=this._getViewIndexByValue(t,o),h=t.removeView(c,!0,!t.viewsRequireLifecycle),h instanceof e&&p.push(h);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}p.length>0?e.all(p).then(function(){(0,n.updateOverrideContexts)(t.views(),0)}):(0,n.updateOverrideContexts)(t.views(),0)},SetRepeatStrategy.prototype._getViewIndexByValue=function(e,t){var i=void 0,n=void 0,r=void 0;for(i=0,n=e.viewCount();i<n;++i)if(r=e.view(i),r.bindingContext[e.local]===t)return i},SetRepeatStrategy}()}).call(t,i("bluebird"))},31:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.FetchConfig=void 0;var n,r,o=i(0),a=i("aurelia-fetch-client"),s=i(13);t.FetchConfig=(n=(0,o.inject)(a.HttpClient,s.Authentication),n(r=function(){function FetchConfig(e,t){_classCallCheck(this,FetchConfig),this.httpClient=e,this.auth=t}return FetchConfig.prototype.configure=function(){var e=this;this.httpClient.configure(function(t){t.withDefaults({headers:{Accept:"application/json"}}).withInterceptor(e.auth.tokenInterceptor)})},FetchConfig}())||r)},32:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthService=void 0;var n,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=i(0),s=i("aurelia-fetch-client"),u=i("aurelia-event-aggregator"),c=i(13),l=i(7),p=i(34),h=i(35),d=i(10);t.AuthService=(n=(0,a.inject)(s.HttpClient,c.Authentication,p.OAuth1,h.OAuth2,l.BaseConfig,u.EventAggregator),n(r=function(){function AuthService(e,t,i,n,r,o){_classCallCheck(this,AuthService),this.http=e,this.auth=t,this.oAuth1=i,this.oAuth2=n,this.config=r.current,this.tokenInterceptor=t.tokenInterceptor,this.eventAggregator=o}return AuthService.prototype.getMe=function(){var e=this.auth.getProfileUrl();return this.http.fetch(e).then(d.status)},AuthService.prototype.isAuthenticated=function(){return this.auth.isAuthenticated()},AuthService.prototype.getTokenPayload=function(){return this.auth.getPayload()},AuthService.prototype.signup=function(e,t,i){var n=this,r=this.auth.getSignupUrl(),a=void 0;return a="object"===o(arguments[0])?arguments[0]:{displayName:e,email:t,password:i},this.http.fetch(r,{method:"post",body:(0,s.json)(a)}).then(d.status).then(function(e){return n.config.loginOnSignup?n.auth.setToken(e):n.config.signupRedirect&&(window.location.href=n.config.signupRedirect),n.eventAggregator.publish("auth:signup",e),e})},AuthService.prototype.login=function(e,t){var i=this,n=this.auth.getLoginUrl(),r=void 0;return r="string"!=typeof arguments[1]?arguments[0]:{email:e,password:t},this.http.fetch(n,{method:"post",headers:"string"==typeof r?{"Content-Type":"application/x-www-form-urlencoded"}:{},body:"string"==typeof r?r:(0,s.json)(r)}).then(d.status).then(function(e){return i.auth.setToken(e),i.eventAggregator.publish("auth:login",e),e})},AuthService.prototype.logout=function(e){return this.eventAggregator.publish("auth:logout"),this.auth.logout(e)},AuthService.prototype.authenticate=function(e,t,i){var n=this,r=this.oAuth2;return"1.0"===this.config.providers[e].type&&(r=this.oAuth1),r.open(this.config.providers[e],i||{}).then(function(e){return n.auth.setToken(e,t),n.eventAggregator.publish("auth:authenticate",e),e})},AuthService.prototype.unlink=function(e){var t=this,i=this.config.baseUrl?(0,d.joinUrl)(this.config.baseUrl,this.config.unlinkUrl):this.config.unlinkUrl;return"get"===this.config.unlinkMethod?this.http.fetch(i+e).then(d.status).then(function(e){return t.eventAggregator.publish("auth:unlink",e),e}):"post"===this.config.unlinkMethod?this.http.fetch(i,{method:"post",body:(0,s.json)(e)}).then(d.status).then(function(e){return t.eventAggregator.publish("auth:unlink",e),e}):void 0},AuthService}())||r)},33:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorizeStep=void 0;var n,r,o=i(0),a=i("aurelia-router"),s=i(13);t.AuthorizeStep=(n=(0,o.inject)(s.Authentication),n(r=function(){function AuthorizeStep(e){_classCallCheck(this,AuthorizeStep),this.auth=e}return AuthorizeStep.prototype.run=function(e,t){var i=this.auth.isAuthenticated(),n=this.auth.getLoginRoute();if(e.getAllInstructions().some(function(e){return e.config.auth})){if(!i)return this.auth.setInitialUrl(window.location.href),t.cancel(new a.Redirect(n))}else if(i&&e.getAllInstructions().some(function(e){return e.fragment===n})){var r=this.auth.getLoginRedirect();return t.cancel(new a.Redirect(r))}return t()},AuthorizeStep}())||r)},34:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OAuth1=void 0;var n,r,o=i(0),a=i(10),s=i(17),u=i(20),c=i(7),l=i("aurelia-fetch-client");t.OAuth1=(n=(0,o.inject)(s.Storage,u.Popup,l.HttpClient,c.BaseConfig),n(r=function(){function OAuth1(e,t,i,n){_classCallCheck(this,OAuth1),this.storage=e,this.config=n.current,this.popup=t,this.http=i,this.defaults={url:null,name:null,popupOptions:null,redirectUri:null,authorizationEndpoint:null}}return OAuth1.prototype.open=function(e,t){var i=this,n=(0,a.extend)({},this.defaults,e),r=this.config.baseUrl?(0,a.joinUrl)(this.config.baseUrl,n.url):n.url;return"mobile"!==this.config.platform&&(this.popup=this.popup.open("",n.name,n.popupOptions,n.redirectUri)),this.http.fetch(r,{method:"post"}).then(a.status).then(function(e){"mobile"===i.config.platform?i.popup=i.popup.open([n.authorizationEndpoint,i.buildQueryString(e)].join("?"),n.name,n.popupOptions,n.redirectUri):i.popup.popupWindow.location=[n.authorizationEndpoint,i.buildQueryString(e)].join("?");var r="mobile"===i.config.platform?i.popup.eventListener(n.redirectUri):i.popup.pollPopup();return r.then(function(e){return i.exchangeForToken(e,t,n)})})},OAuth1.prototype.exchangeForToken=function(e,t,i){var n=(0,a.extend)({},t,e),r=this.config.baseUrl?(0,a.joinUrl)(this.config.baseUrl,i.url):i.url,o=this.config.withCredentials?"include":"same-origin";return this.http.fetch(r,{method:"post",body:(0,l.json)(n),credentials:o}).then(a.status)},OAuth1.prototype.buildQueryString=function(e){var t=[];return(0,a.forEach)(e,function(e,i){return t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))}),t.join("&")},OAuth1}())||r)},35:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OAuth2=void 0;var n,r,o=i(0),a=i(10),s=i(17),u=i(20),c=i(7),l=i(13),p=i("aurelia-fetch-client");t.OAuth2=(n=(0,o.inject)(s.Storage,u.Popup,p.HttpClient,c.BaseConfig,l.Authentication),n(r=function(){function OAuth2(e,t,i,n,r){_classCallCheck(this,OAuth2),this.storage=e,this.config=n.current,this.popup=t,this.http=i,this.auth=r,this.defaults={url:null,name:null,state:null,scope:null,scopeDelimiter:null,redirectUri:null,popupOptions:null,authorizationEndpoint:null,responseParams:null,requiredUrlParams:null,optionalUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code"}}return OAuth2.prototype.open=function(t,i){var n=this,r=(0,a.extend)({},this.defaults,t),o=r.name+"_state";(0,a.isFunction)(r.state)?this.storage.set(o,r.state()):(0,
a.isString)(r.state)&&this.storage.set(o,r.state);var s=r.name+"_nonce";(0,a.isFunction)(r.nonce)?this.storage.set(s,r.nonce()):(0,a.isString)(r.nonce)&&this.storage.set(s,r.nonce);var u=r.authorizationEndpoint+"?"+this.buildQueryString(r),c=void 0;return c="mobile"===this.config.platform?this.popup.open(u,r.name,r.popupOptions,r.redirectUri).eventListener(r.redirectUri):this.popup.open(u,r.name,r.popupOptions,r.redirectUri).pollPopup(),c.then(function(t){return t.state&&t.state!==n.storage.get(o)?e.reject("OAuth 2.0 state parameter mismatch."):r.responseType.toUpperCase().includes("TOKEN")?n.verifyIdToken(t,r.name)?t:e.reject("OAuth 2.0 Nonce parameter mismatch."):n.exchangeForToken(t,i,r)})},OAuth2.prototype.verifyIdToken=function(e,t){var i=e&&e[this.config.responseIdTokenProp];if(!i)return!0;var n=this.auth.decomposeToken(i);if(!n)return!0;var r=n.nonce;if(!r)return!0;var o=this.storage.get(t+"_nonce");return r===o},OAuth2.prototype.exchangeForToken=function(e,t,i){var n=(0,a.extend)({},t,{code:e.code,clientId:i.clientId,redirectUri:i.redirectUri});e.state&&(n.state=e.state),(0,a.forEach)(i.responseParams,function(t){return n[t]=e[t]});var r=this.config.baseUrl?(0,a.joinUrl)(this.config.baseUrl,i.url):i.url,o=this.config.withCredentials?"include":"same-origin";return this.http.fetch(r,{method:"post",body:(0,p.json)(n),credentials:o}).then(a.status)},OAuth2.prototype.buildQueryString=function(e){var t=this,i=[],n=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return(0,a.forEach)(n,function(n){(0,a.forEach)(e[n],function(n){var r=(0,a.camelCase)(n),o=(0,a.isFunction)(e[n])?e[n]():e[r];if("state"===n){var s=e.name+"_state";o=encodeURIComponent(t.storage.get(s))}if("nonce"===n){var u=e.name+"_nonce";o=encodeURIComponent(t.storage.get(u))}"scope"===n&&Array.isArray(o)&&(o=o.join(e.scopeDelimiter),e.scopePrefix&&(o=[e.scopePrefix,o].join(e.scopeDelimiter))),i.push([n,o])})}),i.map(function(e){return e.join("=")}).join("&")},OAuth2}())||r)}).call(t,i("bluebird"))},36:function(e,t,i){"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function fixupCSSUrls(e,t){if("string"!=typeof t)throw new Error("Failed loading required CSS file: "+e);return t.replace(s,function(t,i){var n=i.charAt(0);return"'"!==n&&'"'!==n||(i=i.substr(1,i.length-2)),"url('"+(0,o.relativeToFile)(i,e)+"')"})}function _createCSSResource(e){var t,i,r=(t=(0,n.resource)(new u(e)),t(i=function(e){function ViewCSS(){return _possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ViewCSS,e),ViewCSS}(c))||i);return r}Object.defineProperty(t,"__esModule",{value:!0}),t._createCSSResource=_createCSSResource;var n=i(2),r=i(12),o=(i(0),i(6)),a=i(1),s=/url\((?!['"]data)([^)]+)\)/gi,u=function(){function CSSResource(e){this.address=e,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return CSSResource.prototype.initialize=function(e,t){this._scoped=new t(this)},CSSResource.prototype.register=function(e,t){"scoped"===t?e.registerViewEngineHooks(this._scoped):this._global=!0},CSSResource.prototype.load=function(e){var t=this;return e.get(r.Loader).loadText(this.address).catch(function(e){return null}).then(function(e){e=fixupCSSUrls(t.address,e),t._scoped.css=e,t._global&&(t._alreadyGloballyInjected=!0,a.DOM.injectStyles(e))})},CSSResource}(),c=function(){function CSSViewEngineHooks(e){this.owner=e,this.css=null}return CSSViewEngineHooks.prototype.beforeCompile=function(e,t,i){if(i.targetShadowDOM)a.DOM.injectStyles(this.css,e,!0);else if(a.FEATURE.scopedCSS){var n=a.DOM.injectStyles(this.css,e,!0);n.setAttribute("scoped","scoped")}else this.owner._alreadyGloballyInjected||(a.DOM.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},CSSViewEngineHooks}()},37:function(e,t,i){"use strict";function _createDynamicElement(e,t,i){for(var r,o,a,s=(r=(0,n.customElement)(e),o=(0,n.useView)(t),r(a=o(a=function(){function DynamicElement(){}return DynamicElement.prototype.bind=function(e){this.$parent=e},DynamicElement}())||a)||a),u=0,c=i.length;u<c;++u)(0,n.bindable)(i[u])(s);return s}Object.defineProperty(t,"__esModule",{value:!0}),t._createDynamicElement=_createDynamicElement;var n=i(2)},38:function(e,t,i){"use strict";function getElementName(e){return/([^\/^\?]+)\.html/i.exec(e)[1].toLowerCase()}function configure(e){var t=e.container.get(n.ViewEngine),i=e.aurelia.loader;t.addResourcePlugin(".html",{fetch:function(e){return i.loadTemplate(e).then(function(t){var i,n=t.template.getAttribute("bindable"),o=getElementName(e);return n?(n=n.split(",").map(function(e){return e.trim()}),t.template.removeAttribute("bindable")):n=[],i={},i[o]=(0,r._createDynamicElement)(o,e,n),i})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.getElementName=getElementName,t.configure=configure;var n=i(2),r=i(37)},39:function(e,t,i){"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatingRouteLoader=void 0;var n,r,o=i(0),a=i(2),s=i("aurelia-router"),u=i(6),c=i(5);t.TemplatingRouteLoader=(n=(0,o.inject)(a.CompositionEngine),n(r=function(e){function TemplatingRouteLoader(t){var i=_possibleConstructorReturn(this,e.call(this));return i.compositionEngine=t,i}return _inherits(TemplatingRouteLoader,e),TemplatingRouteLoader.prototype.loadRoute=function(e,t){var i=e.container.createChild(),n={viewModel:(0,u.relativeToFile)(t.moduleId,c.Origin.get(e.container.viewModel.constructor).moduleId),childContainer:i,view:t.view||t.viewStrategy,router:e};return i.getChildRouter=function(){var t=void 0;return i.registerHandler(s.Router,function(n){return t||(t=e.createChild(i))}),i.get(s.Router)},this.compositionEngine.ensureViewModel(n)},TemplatingRouteLoader}(s.RouteLoader))||r)},62:function(e,t,i){i(3),i(0),i("aurelia-event-aggregator"),i("aurelia-framework"),i(15),i("aurelia-history-browser"),i(12),i("aurelia-loader-webpack"),i(4),i("aurelia-logging-console"),i(5),i(6),i("aurelia-route-recognizer"),i("aurelia-router"),i(9),i(2),i("aurelia-templating-binding"),i("aurelia-templating-router"),i("aurelia-templating-resources"),e.exports=i("aurelia-auth")},7:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseConfig=void 0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(10);t.BaseConfig=function(){function BaseConfig(){_classCallCheck(this,BaseConfig),this._current={httpInterceptor:!0,loginOnSignup:!0,baseUrl:"/",loginRedirect:"#/",logoutRedirect:"#/",signupRedirect:"#/login",loginUrl:"/auth/login",signupUrl:"/auth/signup",profileUrl:"/auth/me",loginRoute:"/login",signupRoute:"/signup",tokenRoot:!1,tokenName:"token",idTokenName:"id_token",tokenPrefix:"aurelia",responseTokenProp:"access_token",responseIdTokenProp:"id_token",unlinkUrl:"/auth/unlink/",unlinkMethod:"get",authHeader:"Authorization",authToken:"Bearer",withCredentials:!0,platform:"browser",storage:"localStorage",providers:{identSrv:{name:"identSrv",url:"/auth/identSrv",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,scope:["profile","openid"],responseType:"code",scopePrefix:"",scopeDelimiter:" ",requiredUrlParams:["scope","nonce"],optionalUrlParams:["display","state"],state:function(){var e=Math.random().toString(36).substr(2);return encodeURIComponent(e)},display:"popup",type:"2.0",clientId:"jsClient",nonce:function(){var e=((Date.now()+Math.random())*Math.random()).toString().replace(".","");return encodeURIComponent(e)},popupOptions:{width:452,height:633}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",requiredUrlParams:["scope"],optionalUrlParams:["display","state"],display:"popup",type:"2.0",state:function(){var e=Math.random().toString(36).substr(2);return encodeURIComponent(e)},popupOptions:{width:452,height:633}},facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.3/dialog/oauth",redirectUri:window.location.origin+"/"||window.location.protocol+"//"+window.location.host+"/",scope:["email"],scopeDelimiter:",",nonce:function(){return Math.random()},requiredUrlParams:["nonce","display","scope"],display:"popup",type:"2.0",popupOptions:{width:580,height:400}},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",type:"2.0",popupOptions:{width:527,height:582}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",type:"2.0",popupOptions:{width:1020,height:618}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,scope:[],scopeDelimiter:",",type:"2.0",popupOptions:{width:559,height:519}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",type:"1.0",popupOptions:{width:495,height:645}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,scope:["wl.emails"],scopeDelimiter:" ",requiredUrlParams:["display","scope"],display:"popup",type:"2.0",popupOptions:{width:500,height:560}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",display:"popup",type:"2.0",popupOptions:{width:550,height:369}}}}}return BaseConfig.prototype.configure=function(e){(0,r.merge)(this._current,e)},n(BaseConfig,[{key:"current",get:function(){return this._current}}]),BaseConfig}()},"aurelia-auth":function(e,t,i){"use strict";function configure(e,t){e.globalResources("./auth-filter");var i=e.container.get(a.BaseConfig);void 0!==t&&"function"==typeof t&&t(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.FetchConfig=t.BaseConfig=t.AuthorizeStep=t.AuthService=t.AuthFilterValueConverter=void 0,t.configure=configure;var n=i(32),r=i(33),o=i(31),a=i(7),s=i("aurelia-auth/auth-filter.js");t.AuthFilterValueConverter=s.AuthFilterValueConverter,t.AuthService=n.AuthService,t.AuthorizeStep=r.AuthorizeStep,t.BaseConfig=a.BaseConfig,t.FetchConfig=o.FetchConfig},"aurelia-auth/auth-filter.js":function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.AuthFilterValueConverter=function(){function AuthFilterValueConverter(){_classCallCheck(this,AuthFilterValueConverter)}return AuthFilterValueConverter.prototype.toView=function(e,t){return e.filter(function(e){return void 0===e.config.auth||e.config.auth===t})},AuthFilterValueConverter}()},"aurelia-event-aggregator":function(e,t,i){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function includeEventsIn(e){var t=new s;return e.subscribeOnce=function(e,i){return t.subscribeOnce(e,i)},e.subscribe=function(e,i){return t.subscribe(e,i)},e.publish=function(e,i){t.publish(e,i)},t}function configure(e){e.instance(s,includeEventsIn(e.aurelia))}Object.defineProperty(t,"__esModule",{value:!0}),t.EventAggregator=void 0,t.includeEventsIn=includeEventsIn,t.configure=configure;var n=i(4),r=_interopRequireWildcard(n),o=r.getLogger("event-aggregator"),a=function(){function Handler(e,t){this.messageType=e,this.callback=t}return Handler.prototype.handle=function(e){e instanceof this.messageType&&this.callback.call(null,e)},Handler}(),s=t.EventAggregator=function(){function EventAggregator(){this.eventLookup={},this.messageHandlers=[]}return EventAggregator.prototype.publish=function(e,t){var i=void 0,n=void 0;if(!e)throw new Error("Event was invalid.");if("string"==typeof e){if(i=this.eventLookup[e]){i=i.slice(),n=i.length;try{for(;n--;)i[n](t,e)}catch(r){o.error(r)}}}else{i=this.messageHandlers.slice(),n=i.length;try{for(;n--;)i[n].handle(e)}catch(r){o.error(r)}}},EventAggregator.prototype.subscribe=function(e,t){var i=void 0,n=void 0;if(!e)throw new Error("Event channel/type was invalid.");return"string"==typeof e?(i=t,n=this.eventLookup[e]||(this.eventLookup[e]=[])):(i=new a(e,t),n=this.messageHandlers),n.push(i),{dispose:function(){var e=n.indexOf(i);e!==-1&&n.splice(e,1)}}},EventAggregator.prototype.subscribeOnce=function(e,t){var i=this.subscribe(e,function(e,n){return i.dispose(),t(e,n)});return i},EventAggregator}()},"aurelia-fetch-client":function(e,t,i){"use strict";(function(e){function json(e){return new Blob([JSON.stringify(e)],{type:"application/json"})}function rejectOnError(e){if(!e.ok)throw e;return e}function trackRequestStart(){this.isRequesting=!!++this.activeRequestCount}function trackRequestEnd(){this.isRequesting=!!--this.activeRequestCount}function trackRequestEndWith(e){var t=trackRequestEnd.bind(this);return e.then(t,t),e}function parseHeaderValues(e){var t={};for(var i in e||{})e.hasOwnProperty(i)&&(t[i]="function"==typeof e[i]?e[i]():e[i]);return t}function buildRequest(e,t){var i=this.defaults||{},n=void 0,r=void 0,o=void 0,a=parseHeaderValues(i.headers);if(Request.prototype.isPrototypeOf(e))n=e,o=new Headers(n.headers).get("Content-Type");else{t||(t={}),r=t.body;var s=r?{body:r}:null,u=Object.assign({},i,{headers:{}},t,s);o=new Headers(u.headers).get("Content-Type"),n=new Request(getRequestUrl(this.baseUrl,e),u)}return!o&&new Headers(a).has("content-type")&&n.headers.set("Content-Type",new Headers(a).get("content-type")),setDefaultHeaders(n.headers,a),r&&Blob.prototype.isPrototypeOf(r)&&r.type&&n.headers.set("Content-Type",r.type),n}function getRequestUrl(e,t){return r.test(t)?t:(e||"")+t}function setDefaultHeaders(e,t){for(var i in t||{})t.hasOwnProperty(i)&&!e.has(i)&&e.set(i,t[i])}function processRequest(e,t){return applyInterceptors(e,t,"request","requestError")}function processResponse(e,t,i){return applyInterceptors(e,t,"response","responseError",i)}function applyInterceptors(t,i,n,r){for(var o=arguments.length,a=Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];return(i||[]).reduce(function(e,t){var i=t[n],o=t[r];return e.then(i&&function(e){return i.call.apply(i,[t,e].concat(a))}||identity,o&&function(e){return o.call.apply(o,[t,e].concat(a))}||thrower)},e.resolve(t))}function identity(e){return e}function thrower(e){throw e}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.json=json;var n=t.HttpClientConfiguration=function(){function HttpClientConfiguration(){this.baseUrl="",this.defaults={},this.interceptors=[]}return HttpClientConfiguration.prototype.withBaseUrl=function(e){return this.baseUrl=e,this},HttpClientConfiguration.prototype.withDefaults=function(e){return this.defaults=e,this},HttpClientConfiguration.prototype.withInterceptor=function(e){return this.interceptors.push(e),this},HttpClientConfiguration.prototype.useStandardConfiguration=function(){var e={credentials:"same-origin"};return Object.assign(this.defaults,e,this.defaults),this.rejectErrorResponses()},HttpClientConfiguration.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:rejectOnError})},HttpClientConfiguration}(),r=(t.HttpClient=function(){function HttpClient(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch.")}return HttpClient.prototype.configure=function(e){var t,r=void 0;if("object"===("undefined"==typeof e?"undefined":i(e)))r={defaults:e};else{if("function"!=typeof e)throw new Error("invalid config");r=new n;var o=e(r);n.prototype.isPrototypeOf(o)&&(r=o)}var a=r.defaults;if(a&&Headers.prototype.isPrototypeOf(a.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=r.baseUrl,this.defaults=a,(t=this.interceptors).push.apply(t,r.interceptors||[]),this.isConfigured=!0,this},HttpClient.prototype.fetch=function(e){function fetch(t,i){return e.apply(this,arguments)}return fetch.toString=function(){return e.toString()},fetch}(function(t,i){var n=this;trackRequestStart.call(this);var r=e.resolve().then(function(){return buildRequest.call(n,t,i,n.defaults)}),o=processRequest(r,this.interceptors).then(function(t){var i=null;if(Response.prototype.isPrototypeOf(t))i=t;else{if(!Request.prototype.isPrototypeOf(t))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+t+"]");r=e.resolve(t),i=fetch(t)}return r.then(function(e){return processResponse(i,n.interceptors,e)})});return trackRequestEndWith.call(this,o)}),HttpClient}(),/^([a-z][a-z0-9+\-.]*:)?\/\//i)}).call(t,i("bluebird"))},"aurelia-history-browser":function(e,t,i){"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function configure(e){e.singleton(a.History,c),e.transient(s,u)}function updateHash(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}function createOrigin(e,t,i){return e+"//"+t+(i?":"+i:"")}Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserHistory=t.DefaultLinkHandler=t.LinkHandler=void 0;var n,r;t.configure=configure;var o=i(1),a=i(15),s=t.LinkHandler=function(){function LinkHandler(){}return LinkHandler.prototype.activate=function(e){},LinkHandler.prototype.deactivate=function(){},LinkHandler}(),u=t.DefaultLinkHandler=function(e){function DefaultLinkHandler(){var t=_possibleConstructorReturn(this,e.call(this));return t.handler=function(e){var i=DefaultLinkHandler.getEventInfo(e),n=i.shouldHandleEvent,r=i.href;n&&(e.preventDefault(),t.history.navigate(r))},t}return _inherits(DefaultLinkHandler,e),DefaultLinkHandler.prototype.activate=function(e){e._hasPushState&&(this.history=e,o.DOM.addEventListener("click",this.handler,!0))},DefaultLinkHandler.prototype.deactivate=function(){o.DOM.removeEventListener("click",this.handler)},DefaultLinkHandler.getEventInfo=function(e){var t={shouldHandleEvent:!1,href:null,anchor:null},i=DefaultLinkHandler.findClosestAnchor(e.target);if(!i||!DefaultLinkHandler.targetIsThisWindow(i))return t;if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return t;var n=i.getAttribute("href");t.anchor=i,t.href=n;var r=1===e.which,o=n&&!("#"===n.charAt(0)||/^[a-z]+:/i.test(n));return t.shouldHandleEvent=r&&o,t},DefaultLinkHandler.findClosestAnchor=function(e){for(;e;){if("A"===e.tagName)return e;e=e.parentNode}},DefaultLinkHandler.targetIsThisWindow=function(e){var t=e.getAttribute("target"),i=o.PLATFORM.global;return!t||t===i.name||"_self"===t||"top"===t&&i===i.top},DefaultLinkHandler}(s),c=t.BrowserHistory=(r=n=function(e){function BrowserHistory(t){var i=_possibleConstructorReturn(this,e.call(this));return i._isActive=!1,i._checkUrlCallback=i._checkUrl.bind(i),i.location=o.PLATFORM.location,i.history=o.PLATFORM.history,i.linkHandler=t,i}return _inherits(BrowserHistory,e),BrowserHistory.prototype.activate=function(e){if(this._isActive)throw new Error("History has already been activated.");var t=!!e.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,e),this.root=("/"+this.options.root+"/").replace(p,"/"),this._wantsHashChange=this.options.hashChange!==!1,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=void 0;if(this._hasPushState?i="popstate":this._wantsHashChange&&(i="hashchange"),o.PLATFORM.addEventListener(i,this._checkUrlCallback),this._wantsHashChange&&t){var n=this.location,r=n.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._hasPushState&&!r)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&r&&n.hash&&(this.fragment=this._getHash().replace(l,""),this.history.replaceState({},o.DOM.title,this.root+this.fragment+n.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()},BrowserHistory.prototype.deactivate=function(){o.PLATFORM.removeEventListener("popstate",this._checkUrlCallback),o.PLATFORM.removeEventListener("hashchange",this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()},BrowserHistory.prototype.getAbsoluteRoot=function(){var e=createOrigin(this.location.protocol,this.location.hostname,this.location.port);return""+e+this.root},BrowserHistory.prototype.navigate=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=t.trigger,n=void 0===i||i,r=t.replace,a=void 0!==r&&r;if(e&&d.test(e))return this.location.href=e,!0;if(!this._isActive)return!1;if(e=this._getFragment(e||""),this.fragment===e&&!a)return!1;this.fragment=e;var s=this.root+e;if(""===e&&"/"!==s&&(s=s.slice(0,-1)),this._hasPushState)s=s.replace("//","/"),this.history[a?"replaceState":"pushState"]({},o.DOM.title,s);else{if(!this._wantsHashChange)return this.location.assign(s);updateHash(this.location,e,a)}return n?this._loadUrl(e):void 0},BrowserHistory.prototype.navigateBack=function(){this.history.back()},BrowserHistory.prototype.setTitle=function(e){o.DOM.title=e},BrowserHistory.prototype._getHash=function(){return this.location.hash.substr(1)},BrowserHistory.prototype._getFragment=function(e,t){var i=void 0;return e||(this._hasPushState||!this._wantsHashChange||t?(e=this.location.pathname+this.location.search,i=this.root.replace(h,""),e.indexOf(i)||(e=e.substr(i.length))):e=this._getHash()),"/"+e.replace(l,"")},BrowserHistory.prototype._checkUrl=function(){var e=this._getFragment();e!==this.fragment&&this._loadUrl()},BrowserHistory.prototype._loadUrl=function(e){var t=this.fragment=this._getFragment(e);return!!this.options.routeHandler&&this.options.routeHandler(t)},BrowserHistory}(a.History),n.inject=[s],r),l=/^#?\/*|\s+$/g,p=/^\/+|\/+$/g,h=/\/$/,d=/^([a-z][a-z0-9+\-.]*:)?\/\//i},"aurelia-logging-console":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleAppender=void 0;i(4),t.ConsoleAppender=function(){function ConsoleAppender(){}return ConsoleAppender.prototype.debug=function(e){for(var t,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(t=console).debug.apply(t,["DEBUG ["+e.id+"]"].concat(n))},ConsoleAppender.prototype.info=function(e){for(var t,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(t=console).info.apply(t,["INFO ["+e.id+"]"].concat(n))},ConsoleAppender.prototype.warn=function(e){for(var t,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(t=console).warn.apply(t,["WARN ["+e.id+"]"].concat(n))},ConsoleAppender.prototype.error=function(e){for(var t,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(t=console).error.apply(t,["ERROR ["+e.id+"]"].concat(n))},ConsoleAppender}()},"aurelia-route-recognizer":function(e,t,i){"use strict";function parse(e,t,i,n){var r=e;"/"===e.charAt(0)&&(r=e.substr(1));for(var o=[],a=r.split("/"),p=0,h=a.length;p<h;++p){var d=a[p],f=d.match(/^:([^?]+)(\?)?$/);if(f){var v=f,g=v[1],y=v[2];if(g.indexOf("=")!==-1)throw new Error("Parameter "+g+" in route "+e+" has a default value, which is not supported.");o.push(new u(g,(!!y))),t.push(g),i.dynamics++}else f=d.match(/^\*(.+)$/),f?(o.push(new c(f[1])),t.push(f[1]),i.stars++):""===d?o.push(new l):(o.push(new s(d,n)),i.statics++)}return o}function sortSolutions(e){return e.sort(function(e,t){if(e.types.stars!==t.types.stars)return e.types.stars-t.types.stars;if(e.types.stars){if(e.types.statics!==t.types.statics)return t.types.statics-e.types.statics;if(e.types.dynamics!==t.types.dynamics)return t.types.dynamics-e.types.dynamics}return e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?t.types.statics-e.types.statics:0})}function recognizeChar(e,t){for(var i=[],n=0,r=e.length;n<r;n++){var o=e[n];i.push.apply(i,o.match(t))}for(var a=i.filter(function(e){return e.epsilon}),s=function(){var e=[];a.forEach(function(t){i.push.apply(i,t.epsilon),e.push.apply(e,t.epsilon)}),a=e.filter(function(e){return e.epsilon})};a.length>0;)s();return i}function findHandler(e,t,i){for(var n=e.handlers,r=e.regex,o=t.match(r),a=1,s=new p(i),u=0,c=n.length;u<c;u++){for(var l=n[u],h=l.names,d={},f=0,v=h.length;f<v;f++)d[h[f]]=o[a++];s.push({handler:l.handler,params:d,isDynamic:!!h.length})}return s}function addSegment(e,t){var i=e.put({validChars:"/"});return t.eachChar(function(e){i=i.put(e)}),t.optional&&(e.epsilon=e.epsilon||[],e.epsilon.push(i)),i}Object.defineProperty(t,"__esModule",{value:!0}),t.RouteRecognizer=t.EpsilonSegment=t.StarSegment=t.DynamicSegment=t.StaticSegment=t.State=void 0;var n=i(6),r=t.State=function(){function State(e){this.charSpec=e,this.nextStates=[]}return State.prototype.get=function(e){for(var t=this.nextStates,i=Array.isArray(t),n=0,t=i?t:t[Symbol.iterator]();;){var r;if(i){if(n>=t.length)break;r=t[n++]}else{if(n=t.next(),n.done)break;r=n.value}var o=r,a=o.charSpec.validChars===e.validChars&&o.charSpec.invalidChars===e.invalidChars;if(a)return o}},State.prototype.put=function(e){var t=this.get(e);return t?t:(t=new State(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},State.prototype.match=function(e){for(var t=this.nextStates,i=[],n=0,r=t.length;n<r;n++){var o=t[n],a=o.charSpec;void 0!==a.validChars?a.validChars.indexOf(e)!==-1&&i.push(o):void 0!==a.invalidChars&&a.invalidChars.indexOf(e)===-1&&i.push(o)}return i},State}(),o=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],a=new RegExp("(\\"+o.join("|\\")+")","g"),s=t.StaticSegment=function(){function StaticSegment(e,t){this.string=e,this.caseSensitive=t}return StaticSegment.prototype.eachChar=function(e){for(var t=this.string,i=0,n=t.length;i<n;++i){var r=t[i];e({validChars:this.caseSensitive?r:r.toUpperCase()+r.toLowerCase()})}},StaticSegment.prototype.regex=function(){return this.string.replace(a,"\\$1")},StaticSegment.prototype.generate=function(){return this.string},StaticSegment}(),u=t.DynamicSegment=function(){function DynamicSegment(e,t){this.name=e,this.optional=t}return DynamicSegment.prototype.eachChar=function(e){e({invalidChars:"/",repeat:!0})},DynamicSegment.prototype.regex=function(){return this.optional?"([^/]+)?":"([^/]+)"},DynamicSegment.prototype.generate=function(e,t){return t[this.name]=!0,e[this.name]},DynamicSegment}(),c=t.StarSegment=function(){function StarSegment(e){this.name=e}return StarSegment.prototype.eachChar=function(e){e({invalidChars:"",repeat:!0})},StarSegment.prototype.regex=function(){return"(.+)"},StarSegment.prototype.generate=function(e,t){return t[this.name]=!0,e[this.name]},StarSegment}(),l=t.EpsilonSegment=function(){function EpsilonSegment(){}return EpsilonSegment.prototype.eachChar=function(){},EpsilonSegment.prototype.regex=function(){return""},EpsilonSegment.prototype.generate=function(){return""},EpsilonSegment}(),p=(t.RouteRecognizer=function(){function RouteRecognizer(){this.rootState=new r,this.names={}}return RouteRecognizer.prototype.add=function(e){var t=this;if(Array.isArray(e))return void e.forEach(function(e){return t.add(e)});for(var i=this.rootState,n="^",r={statics:0,dynamics:0,stars:0},o=[],a=e.handler.name,s=!0,u=!0,c=parse(e.path,o,r,e.caseSensitive),p=0,h=c.length;p<h;p++){var d=c[p];d instanceof l||(s=!1,u=u&&d.optional,i=addSegment(i,d),n+=d.optional?"/?":"/",n+=d.regex())}if(u)if(s)i=i.put({validChars:"/"}),n+="/";else{var f=this.rootState.put({validChars:"/"});i.epsilon=[f],i=f}var v=[{handler:e.handler,names:o}];if(a)for(var g=Array.isArray(a)?a:[a],y=0;y<g.length;y++)this.names[g[y]]={segments:c,handlers:v};return i.handlers=v,i.regex=new RegExp(n+"$",e.caseSensitive?"":"i"),i.types=r,i},RouteRecognizer.prototype.handlersFor=function(e){var t=this.names[e];if(!t)throw new Error("There is no route named "+e);return[].concat(t.handlers)},RouteRecognizer.prototype.hasRoute=function(e){return!!this.names[e]},RouteRecognizer.prototype.generate=function(e,t){var i=this.names[e];if(!i)throw new Error("There is no route named "+e);var r=i.handlers[0].handler;if(r.generationUsesHref)return r.href;for(var o=Object.assign({},t),a=i.segments,s={},u="",c=0,p=a.length;c<p;c++){var h=a[c];if(!(h instanceof l)){var d=h.generate(o,s);if(null===d||void 0===d){if(!h.optional)throw new Error("A value is required for route parameter '"+h.name+"' in route '"+e+"'.")}else u+="/",u+=d}}"/"!==u.charAt(0)&&(u="/"+u);for(var f in s)delete o[f];var v=(0,n.buildQueryString)(o);return u+=v?"?"+v:""},RouteRecognizer.prototype.recognize=function(e){var t=[this.rootState],i={},r=!1,o=e,a=o.indexOf("?");if(a!==-1){var s=o.substr(a+1,o.length);o=o.substr(0,a),i=(0,n.parseQueryString)(s)}o=decodeURI(o),"/"!==o.charAt(0)&&(o="/"+o);var u=o.length;u>1&&"/"===o.charAt(u-1)&&(o=o.substr(0,u-1),r=!0);for(var c=0,l=o.length;c<l&&(t=recognizeChar(t,o.charAt(c)),t.length);c++);for(var p=[],h=0,d=t.length;h<d;h++)t[h].handlers&&p.push(t[h]);t=sortSolutions(p);var f=p[0];if(f&&f.handlers)return r&&"(.+)$"===f.regex.source.slice(-5)&&(o+="/"),findHandler(f,o,i)},RouteRecognizer}(),function(e){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=e||{}})},"aurelia-router":function(e,t,i){"use strict";(function(e){function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);
return t.default=e,t}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _normalizeAbsolutePath(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return t||"#"===e[0]||(e="#"+e),t&&i&&(e=e.substring(1,e.length)),e}function _createRootedPath(e,t,i,n){if(h.test(e))return e;var r="";return t.length&&"/"!==t[0]&&(r+="/"),r+=t,r.length&&"/"===r[r.length-1]||"/"===e[0]||(r+="/"),r.length&&"/"===r[r.length-1]&&"/"===e[0]&&(r=r.substring(0,r.length-1)),_normalizeAbsolutePath(r+e,i,n)}function _resolveUrl(e,t,i){return p.test(e)?_normalizeAbsolutePath(e,i):_createRootedPath(e,t,i)}function createCompletionHandler(t,i){return function(t){return e.resolve({status:i,output:t,completed:i===d.completed})}}function prune(e){e.previousInstruction=null,e.plan=null}function isNavigationCommand(e){return e&&"function"==typeof e.navigate}function _buildNavigationPlan(t,i){var n=t.previousInstruction,r=t.config,o={};if("redirect"in r){var a=_resolveUrl(r.redirect,getInstructionBaseUrl(t));return t.queryString&&(a+="?"+t.queryString),e.reject(new m(a))}if(n){var s=hasDifferentParameterValues(n,t),u=[],c=function(e){var a=n.viewPortInstructions[e],c=r.viewPorts[e];if(!c)throw new Error('Invalid Route Config: Configuration for viewPort "'+e+'" was not found for route: "'+t.config.route+'."');var l=o[e]={name:e,config:c,prevComponent:a.component,prevModuleId:a.moduleId};if(a.moduleId!==c.moduleId)l.strategy=w.replace;else if("determineActivationStrategy"in a.component.viewModel){var p;l.strategy=(p=a.component.viewModel).determineActivationStrategy.apply(p,t.lifecycleArgs)}else r.activationStrategy?l.strategy=r.activationStrategy:s||i?l.strategy=w.invokeLifecycle:l.strategy=w.noChange;if(l.strategy!==w.replace&&a.childRouter){var h=t.getWildcardPath(),d=a.childRouter._createNavigationInstruction(h,t).then(function(e){return l.childNavigationInstruction=e,_buildNavigationPlan(e,l.strategy===w.invokeLifecycle).then(function(t){e.plan=t})});u.push(d)}};for(var l in n.viewPortInstructions)c(l);return e.all(u).then(function(){return o})}for(var p in r.viewPorts)o[p]={name:p,strategy:w.replace,config:t.config.viewPorts[p]};return e.resolve(o)}function hasDifferentParameterValues(e,t){var i=e.params,n=t.params,r=t.config.hasChildRouter?t.getWildCardName():null;for(var o in n)if(o!==r&&i[o]!==n[o])return!0;for(var a in i)if(a!==r&&i[a]!==n[a])return!0;if(!t.options.compareQueryParams)return!1;var s=e.queryParams,u=t.queryParams;for(var c in u)if(s[c]!==u[c])return!0;for(var l in s)if(s[l]!==u[l])return!0;return!1}function getInstructionBaseUrl(e){var t=[];for(e=e.parentInstruction;e;)t.unshift(e.getBaseUrl()),e=e.parentInstruction;return t.unshift("/"),t.join("")}function validateRouteConfig(e,t){if("object"!==("undefined"==typeof e?"undefined":n(e)))throw new Error("Invalid Route Config");if("string"!=typeof e.route){var i=e.name||"(no name)";throw new Error('Invalid Route Config for "'+i+'": You must specify a "route:" pattern.')}if(!("redirect"in e||e.moduleId||e.navigationStrategy||e.viewPorts))throw new Error('Invalid Route Config for "'+e.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function evaluateNavigationStrategy(t,i,n){return e.resolve(i.call(n,t)).then(function(){return"viewPorts"in t.config||(t.config.viewPorts={"default":{moduleId:t.config.moduleId}}),t})}function processDeactivatable(e,t,i,n){function inspect(e){return n||shouldContinue(e)?iterate():i.cancel(e)}function iterate(){if(o--)try{var e=r[o],n=e[t]();return processPotential(n,inspect,i.cancel)}catch(a){return i.cancel(a)}return i()}var r=findDeactivatable(e,t),o=r.length;return iterate()}function findDeactivatable(e,t){var i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];for(var n in e){var r=e[n],o=r.prevComponent;if((r.strategy===w.invokeLifecycle||r.strategy===w.replace)&&o){var a=o.viewModel;t in a&&i.push(a)}r.childNavigationInstruction?findDeactivatable(r.childNavigationInstruction.plan,t,i):o&&addPreviousDeactivatable(o,t,i)}return i}function addPreviousDeactivatable(e,t,i){var n=e.childRouter;if(n&&n.currentInstruction){var r=n.currentInstruction.viewPortInstructions;for(var o in r){var a=r[o],s=a.component,u=s.viewModel;t in u&&i.push(u),addPreviousDeactivatable(s,t,i)}}}function processActivatable(e,t,i,r){function inspect(e,t){return r||shouldContinue(e,t)?iterate():i.cancel(e)}function iterate(){if(s++,s<a)try{var e=function(){var e,n=o[s],r=(e=n.viewModel)[t].apply(e,n.lifecycleArgs);return{v:processPotential(r,function(e){return inspect(e,n.router)},i.cancel)}}();if("object"===("undefined"==typeof e?"undefined":n(e)))return e.v}catch(r){return i.cancel(r)}return i()}var o=findActivatable(e,t),a=o.length,s=-1;return iterate()}function findActivatable(e,t){var i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],n=arguments[3],r=e.plan;return Object.keys(r).filter(function(o){var a=r[o],s=e.viewPortInstructions[o],u=s.component.viewModel;(a.strategy===w.invokeLifecycle||a.strategy===w.replace)&&t in u&&i.push({viewModel:u,lifecycleArgs:s.lifecycleArgs,router:n}),a.childNavigationInstruction&&findActivatable(a.childNavigationInstruction,t,i,s.component.childRouter||n)}),i}function shouldContinue(e,t){return!(e instanceof Error)&&(isNavigationCommand(e)?("function"==typeof e.setRouter&&e.setRouter(t),!!e.shouldContinueProcessing):void 0===e||e)}function processPotential(t,i,r){if(t&&"function"==typeof t.then)return e.resolve(t).then(i).catch(r);if(t&&"function"==typeof t.subscribe){var o=function(){var e=t;return{v:new O(function(n){return e.subscribe({next:function(){n.subscribed&&(n.unsubscribe(),i(t))},error:function(e){n.subscribed&&(n.unsubscribe(),r(e))},complete:function(){n.subscribed&&(n.unsubscribe(),i(t))}})})}}();if("object"===("undefined"==typeof o?"undefined":n(o)))return o.v}try{return i(t)}catch(a){return r(a)}}function loadNewRoute(t,i){var n=determineWhatToLoad(i),r=n.map(function(e){return loadRoute(t,e.navigationInstruction,e.viewPortPlan)});return e.all(r)}function determineWhatToLoad(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=e.plan;for(var n in i){var r=i[n];if(r.strategy===w.replace)t.push({viewPortPlan:r,navigationInstruction:e}),r.childNavigationInstruction&&determineWhatToLoad(r.childNavigationInstruction,t);else{var o=e.addViewPortInstruction(n,r.strategy,r.prevModuleId,r.prevComponent);r.childNavigationInstruction&&(o.childNavigationInstruction=r.childNavigationInstruction,determineWhatToLoad(r.childNavigationInstruction,t))}}return t}function loadRoute(e,t,i){var n=i.config.moduleId;return loadComponent(e,t,i.config).then(function(r){var o=t.addViewPortInstruction(i.name,i.strategy,n,r),a=r.childRouter;if(a){var s=t.getWildcardPath();return a._createNavigationInstruction(s,t).then(function(t){return i.childNavigationInstruction=t,_buildNavigationPlan(t).then(function(i){return t.plan=i,o.childNavigationInstruction=t,loadNewRoute(e,t)})})}})}function loadComponent(e,t,i){var r=t.router,o=t.lifecycleArgs;return e.loadRoute(r,i,t).then(function(e){var t=e.viewModel,a=e.childContainer;if(e.router=r,e.config=i,"configureRouter"in t){var s=function(){var i=a.getChildRouter();return e.childRouter=i,{v:i.configure(function(e){return t.configureRouter.apply(t,[e,i].concat(o))}).then(function(){return e})}}();if("object"===("undefined"==typeof s?"undefined":n(s)))return s.v}return e})}function processResult(e,t,i,n){t&&"completed"in t&&"output"in t||(t=t||{},t.output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(t)+"] instead."));var r=null;return isNavigationCommand(t.output)?t.output.navigate(n):(r=t,t.completed||(t.output instanceof Error&&k.error(t.output),restorePreviousLocation(n))),n._dequeueInstruction(i+1).then(function(e){return r||e||t})}function resolveInstruction(e,t,i,n){if(e.resolve(t),!i){n.isNavigating=!1;var r={instruction:e,result:t},o=void 0;if(t.output instanceof Error)o="error";else if(t.completed){var a=e.queryString?"?"+e.queryString:"";n.history.previousLocation=e.fragment+a,o="success"}else o="canceled";n.events.publish("router:navigation:"+o,r),n.events.publish("router:navigation:complete",r)}return t}function restorePreviousLocation(e){var t=e.history.previousLocation;t?e.navigate(e.history.previousLocation,{trigger:!1,replace:!0}):k.error("Router navigation failed, and no previous location could be restored.")}Object.defineProperty(t,"__esModule",{value:!0}),t.AppRouter=t.PipelineProvider=t.LoadRouteStep=t.RouteLoader=t.ActivateNextStep=t.DeactivatePreviousStep=t.CanActivateNextStep=t.CanDeactivatePreviousStep=t.Router=t.BuildNavigationPlanStep=t.activationStrategy=t.RouterConfiguration=t.RedirectToRoute=t.Redirect=t.NavModel=t.NavigationInstruction=t.CommitChangesStep=t.Pipeline=t.pipelineStatus=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}();t._normalizeAbsolutePath=_normalizeAbsolutePath,t._createRootedPath=_createRootedPath,t._resolveUrl=_resolveUrl,t.isNavigationCommand=isNavigationCommand,t._buildNavigationPlan=_buildNavigationPlan;var o=i(4),a=_interopRequireWildcard(o),s=i("aurelia-route-recognizer"),u=i(0),c=i(15),l=i("aurelia-event-aggregator"),p=/^#?\//,h=/^([a-z][a-z0-9+\-.]*:)?\/\//i,d=t.pipelineStatus={completed:"completed",canceled:"canceled",rejected:"rejected",running:"running"},f=t.Pipeline=function(){function Pipeline(){this.steps=[]}return Pipeline.prototype.addStep=function(e){var t=void 0;if("function"==typeof e)t=e;else{if("function"==typeof e.getSteps){for(var i=e.getSteps(),n=0,r=i.length;n<r;n++)this.addStep(i[n]);return this}t=e.run.bind(e)}return this.steps.push(t),this},Pipeline.prototype.run=function(e){function next(){if(t++,!(t<i.length))return next.complete();var n=i[t];try{return n(e,next)}catch(r){return next.reject(r)}}var t=-1,i=this.steps;return next.complete=createCompletionHandler(next,d.completed),next.cancel=createCompletionHandler(next,d.canceled),next.reject=createCompletionHandler(next,d.rejected),next()},Pipeline}(),v=t.CommitChangesStep=function(){function CommitChangesStep(){}return CommitChangesStep.prototype.run=function(e,t){return e._commitChanges(!0).then(function(){return e._updateTitle(),t()})},CommitChangesStep}(),g=t.NavigationInstruction=function(){function NavigationInstruction(e){this.plan=null,this.options={},Object.assign(this,e),this.params=this.params||{},this.viewPortInstructions={};var t=[],i=this;do{var n=Object.assign({},i.params);i.config&&i.config.hasChildRouter&&delete n[i.getWildCardName()],t.unshift(n),i=i.parentInstruction}while(i);var r=Object.assign.apply(Object,[{},this.queryParams].concat(t));this.lifecycleArgs=[r,this.config,this]}return NavigationInstruction.prototype.getAllInstructions=function(){var e=[this];for(var t in this.viewPortInstructions){var i=this.viewPortInstructions[t].childNavigationInstruction;i&&e.push.apply(e,i.getAllInstructions())}return e},NavigationInstruction.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map(function(e){return e.previousInstruction}).filter(function(e){return e})},NavigationInstruction.prototype.addViewPortInstruction=function(e,t,i,n){var r=this.viewPortInstructions[e]={name:e,strategy:t,moduleId:i,component:n,childRouter:n.childRouter,lifecycleArgs:this.lifecycleArgs.slice()};return r},NavigationInstruction.prototype.getWildCardName=function(){var e=this.config.route.lastIndexOf("*");return this.config.route.substr(e+1)},NavigationInstruction.prototype.getWildcardPath=function(){var e=this.getWildCardName(),t=this.params[e]||"";return this.queryString&&(t+="?"+this.queryString),t},NavigationInstruction.prototype.getBaseUrl=function(){if(!this.params)return this.fragment;var e=this.getWildCardName(),t=this.params[e]||"";return t?(t=encodeURI(t),this.fragment.substr(0,this.fragment.lastIndexOf(t))):this.fragment},NavigationInstruction.prototype._commitChanges=function(t){var i=this,n=this.router;n.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,n._refreshBaseUrl(),n.refreshNavigation();var r=[],o=[],a=function(e){var a=i.viewPortInstructions[e],s=n.viewPorts[e];if(!s)throw new Error("There was no router-view found in the view for "+a.moduleId+".");a.strategy===w.replace?(t&&o.push({viewPort:s,viewPortInstruction:a}),r.push(s.process(a,t).then(function(e){if(a.childNavigationInstruction)return a.childNavigationInstruction._commitChanges()}))):a.childNavigationInstruction&&r.push(a.childNavigationInstruction._commitChanges(t))};for(var s in this.viewPortInstructions)a(s);return e.all(r).then(function(){return o.forEach(function(e){return e.viewPort.swap(e.viewPortInstruction)}),null}).then(function(){return prune(i)})},NavigationInstruction.prototype._updateTitle=function(){var e=this._buildTitle();e&&this.router.history.setTitle(e)},NavigationInstruction.prototype._buildTitle=function(){var e=arguments.length<=0||void 0===arguments[0]?" | ":arguments[0],t=this.config.navModel.title||"",i=[];for(var n in this.viewPortInstructions){var r=this.viewPortInstructions[n];if(r.childNavigationInstruction){var o=r.childNavigationInstruction._buildTitle(e);o&&i.push(o)}}return i.length&&(t=i.join(e)+(t?e:"")+t),this.router.title&&(t+=(t?e:"")+this.router.title),t},NavigationInstruction}(),y=t.NavModel=function(){function NavModel(e,t){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=e,this.relativeHref=t}return NavModel.prototype.setTitle=function(e){this.title=e,this.isActive&&this.router.updateTitle()},NavModel}(),m=t.Redirect=function(){function Redirect(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.url=e,this.options=Object.assign({trigger:!0,replace:!0},t),this.shouldContinueProcessing=!1}return Redirect.prototype.setRouter=function(e){this.router=e},Redirect.prototype.navigate=function(e){var t=this.options.useAppRouter?e:this.router||e;t.navigate(this.url,this.options)},Redirect}(),b=(t.RedirectToRoute=function(){function RedirectToRoute(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this.route=e,this.params=t,this.options=Object.assign({trigger:!0,replace:!0},i),this.shouldContinueProcessing=!1}return RedirectToRoute.prototype.setRouter=function(e){this.router=e},RedirectToRoute.prototype.navigate=function(e){var t=this.options.useAppRouter?e:this.router||e;t.navigateToRoute(this.route,this.params,this.options)},RedirectToRoute}(),t.RouterConfiguration=function(){function RouterConfiguration(){this.instructions=[],this.options={},this.pipelineSteps=[]}return RouterConfiguration.prototype.addPipelineStep=function(e,t){return this.pipelineSteps.push({name:e,step:t}),this},RouterConfiguration.prototype.addAuthorizeStep=function(e){return this.addPipelineStep("authorize",e)},RouterConfiguration.prototype.addPreActivateStep=function(e){return this.addPipelineStep("preActivate",e)},RouterConfiguration.prototype.addPreRenderStep=function(e){return this.addPipelineStep("preRender",e)},RouterConfiguration.prototype.addPostRenderStep=function(e){return this.addPipelineStep("postRender",e)},RouterConfiguration.prototype.map=function(e){return Array.isArray(e)?(e.forEach(this.map.bind(this)),this):this.mapRoute(e)},RouterConfiguration.prototype.mapRoute=function(e){return this.instructions.push(function(t){var i=[];if(Array.isArray(e.route))for(var n=0,r=e.route.length;n<r;++n){var o=Object.assign({},e);o.route=e.route[n],i.push(o)}else i.push(Object.assign({},e));for(var a=void 0,s=0,u=i.length;s<u;++s){var c=i[s];c.settings=c.settings||{},a||(a=t.createNavModel(c)),t.addRoute(c,a)}}),this},RouterConfiguration.prototype.mapUnknownRoutes=function(e){return this.unknownRouteConfig=e,this},RouterConfiguration.prototype.exportToRouter=function(e){for(var t=this.instructions,i=0,n=t.length;i<n;++i)t[i](e);this.title&&(e.title=this.title),this.unknownRouteConfig&&e.handleUnknownRoutes(this.unknownRouteConfig),e.options=this.options;var r=this.pipelineSteps;if(r.length){if(!e.isRoot)throw new Error("Pipeline steps can only be added to the root router");for(var o=e.pipelineProvider,a=0,s=r.length;a<s;++a){var u=r[a],c=u.name,l=u.step;o.addStep(c,l)}}},RouterConfiguration}()),w=t.activationStrategy={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"},S=t.BuildNavigationPlanStep=function(){function BuildNavigationPlanStep(){}return BuildNavigationPlanStep.prototype.run=function(e,t){return _buildNavigationPlan(e).then(function(i){return e.plan=i,t()}).catch(t.cancel)},BuildNavigationPlanStep}(),C=t.Router=function(){function Router(e,t){this.parent=null,this.options={},this.container=e,this.history=t,this.reset()}return Router.prototype.reset=function(){var t=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new s.RouteRecognizer,this._childRecognizer=new s.RouteRecognizer,this._configuredPromise=new e(function(e){t._resolveConfiguredPromise=e})},Router.prototype.registerViewPort=function(e,t){t=t||"default",this.viewPorts[t]=e},Router.prototype.ensureConfigured=function(){return this._configuredPromise},Router.prototype.configure=function(t){var i=this;this.isConfigured=!0;var n=t,r=void 0;return"function"==typeof t&&(r=new b,n=t(r)),e.resolve(n).then(function(e){e&&e.exportToRouter&&(r=e),r.exportToRouter(i),i.isConfigured=!0,i._resolveConfiguredPromise()})},Router.prototype.navigate=function(e,t){return!this.isConfigured&&this.parent?this.parent.navigate(e,t):this.history.navigate(_resolveUrl(e,this.baseUrl,this.history._hasPushState),t)},Router.prototype.navigateToRoute=function(e,t,i){var n=this.generate(e,t);return this.navigate(n,i)},Router.prototype.navigateBack=function(){this.history.navigateBack()},Router.prototype.createChild=function(e){var t=new Router(e||this.container.createChild(),this.history);return t.parent=this,t},Router.prototype.generate=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=this._recognizer.hasRoute(e);if((!this.isConfigured||!n)&&this.parent)return this.parent.generate(e,t);if(!n)throw new Error("A route with name '"+e+"' could not be found. Check that `name: '"+e+"'` was specified in the route's config.");var r=this._recognizer.generate(e,t),o=_createRootedPath(r,this.baseUrl,this.history._hasPushState,i.absolute);return i.absolute?""+this.history.getAbsoluteRoot()+o:o},Router.prototype.createNavModel=function(e){var t=new y(this,"href"in e?e.href:e.route);return t.title=e.title,t.order=e.nav,t.href=e.href,t.settings=e.settings,t.config=e,t},Router.prototype.addRoute=function(e,t){validateRouteConfig(e,this.routes),"viewPorts"in e||e.navigationStrategy||(e.viewPorts={"default":{moduleId:e.moduleId,view:e.view}}),t||(t=this.createNavModel(e)),this.routes.push(e);var i=e.route;"/"===i.charAt(0)&&(i=i.substr(1));var n=e.caseSensitive===!0,r=this._recognizer.add({path:i,handler:e,caseSensitive:n});if(i){var o=e.settings;delete e.settings;var a=JSON.parse(JSON.stringify(e));e.settings=o,a.route=i+"/*childRoute",a.hasChildRouter=!0,this._childRecognizer.add({path:a.route,handler:a,caseSensitive:n}),a.navModel=t,a.settings=e.settings,a.navigationStrategy=e.navigationStrategy}if(e.navModel=t,(t.order||0===t.order)&&this.navigation.indexOf(t)===-1){if(!t.href&&""!==t.href&&(r.types.dynamics||r.types.stars))throw new Error('Invalid route config for "'+e.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof t.order&&(t.order=++this._fallbackOrder),this.navigation.push(t),this.navigation=this.navigation.sort(function(e,t){return e.order-t.order})}},Router.prototype.hasRoute=function(e){return!!(this._recognizer.hasRoute(e)||this.parent&&this.parent.hasRoute(e))},Router.prototype.hasOwnRoute=function(e){return this._recognizer.hasRoute(e)},Router.prototype.handleUnknownRoutes=function(e){var t=this;if(!e)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(i){return t._createRouteConfig(e,i).then(function(e){return i.config=e,i})}},Router.prototype.updateTitle=function(){return this.parent?this.parent.updateTitle():void this.currentInstruction._updateTitle()},Router.prototype.refreshNavigation=function(){for(var e=this.navigation,t=0,i=e.length;t<i;t++){var n=e[t];n.config.href?n.href=_normalizeAbsolutePath(n.config.href,this.history._hasPushState):n.href=_createRootedPath(n.relativeHref,this.baseUrl,this.history._hasPushState)}},Router.prototype._refreshBaseUrl=function(){if(this.parent){var e=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+e}},Router.prototype._createNavigationInstruction=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],i=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=t,r="",o=t.indexOf("?");o!==-1&&(n=t.substr(0,o),r=t.substr(o+1));var a=this._recognizer.recognize(t);a&&a.length||(a=this._childRecognizer.recognize(t));var s={fragment:n,queryString:r,config:null,parentInstruction:i,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(a&&a.length){var u=a[0],c=new g(Object.assign({},s,{params:u.params,queryParams:u.queryParams||a.queryParams,config:u.config||u.handler}));return"function"==typeof u.handler?evaluateNavigationStrategy(c,u.handler,u):u.handler&&"function"==typeof u.handler.navigationStrategy?evaluateNavigationStrategy(c,u.handler.navigationStrategy,u.handler):e.resolve(c)}if(this.catchAllHandler){var l=new g(Object.assign({},s,{params:{path:n},queryParams:a&&a.queryParams,config:null}));return evaluateNavigationStrategy(l,this.catchAllHandler)}return e.reject(new Error("Route not found: "+t))},Router.prototype._createRouteConfig=function(t,i){var n=this;return e.resolve(t).then(function(e){return"string"==typeof e?{moduleId:e}:"function"==typeof e?e(i):e}).then(function(e){return"string"==typeof e?{moduleId:e}:e}).then(function(e){return e.route=i.params.path,validateRouteConfig(e,n.routes),e.navModel||(e.navModel=n.createNavModel(e)),e})},r(Router,[{key:"isRoot",get:function(){return!this.parent}}]),Router}(),R=t.CanDeactivatePreviousStep=function(){function CanDeactivatePreviousStep(){}return CanDeactivatePreviousStep.prototype.run=function(e,t){return processDeactivatable(e.plan,"canDeactivate",t)},CanDeactivatePreviousStep}(),_=t.CanActivateNextStep=function(){function CanActivateNextStep(){}return CanActivateNextStep.prototype.run=function(e,t){return processActivatable(e,"canActivate",t)},CanActivateNextStep}(),P=t.DeactivatePreviousStep=function(){function DeactivatePreviousStep(){}return DeactivatePreviousStep.prototype.run=function(e,t){return processDeactivatable(e.plan,"deactivate",t,!0)},DeactivatePreviousStep}(),A=t.ActivateNextStep=function(){function ActivateNextStep(){}return ActivateNextStep.prototype.run=function(e,t){return processActivatable(e,"activate",t,!0)},ActivateNextStep}(),O=function(){function SafeSubscription(e){this._subscribed=!0,this._subscription=e(this),this._subscribed||this.unsubscribe()}return SafeSubscription.prototype.unsubscribe=function(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1},r(SafeSubscription,[{key:"subscribed",get:function(){return this._subscribed}}]),SafeSubscription}(),I=t.RouteLoader=function(){function RouteLoader(){}return RouteLoader.prototype.loadRoute=function(e,t,i){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},RouteLoader}(),j=t.LoadRouteStep=function(){function LoadRouteStep(e){this.routeLoader=e}return LoadRouteStep.inject=function(){return[I]},LoadRouteStep.prototype.run=function(e,t){return loadNewRoute(this.routeLoader,e).then(t).catch(t.cancel)},LoadRouteStep}(),M=function(){function PipelineSlot(e,t,i){this.steps=[],this.container=e,this.slotName=t,this.slotAlias=i}return PipelineSlot.prototype.getSteps=function(){var e=this;return this.steps.map(function(t){return e.container.get(t)})},PipelineSlot}(),x=t.PipelineProvider=function(){function PipelineProvider(e){this.container=e,this.steps=[S,R,j,this._createPipelineSlot("authorize"),_,this._createPipelineSlot("preActivate","modelbind"),P,A,this._createPipelineSlot("preRender","precommit"),v,this._createPipelineSlot("postRender","postcomplete")]}return PipelineProvider.inject=function(){return[u.Container]},PipelineProvider.prototype.createPipeline=function(){var e=this,t=new f;return this.steps.forEach(function(i){return t.addStep(e.container.get(i))}),t},PipelineProvider.prototype._findStep=function(e){return this.steps.find(function(t){return t.slotName===e||t.slotAlias===e})},PipelineProvider.prototype.addStep=function(e,t){var i=this._findStep(e);if(!i)throw new Error("Invalid pipeline slot name: "+e+".");i.steps.includes(t)||i.steps.push(t)},PipelineProvider.prototype.removeStep=function(e,t){var i=this._findStep(e);i&&i.steps.splice(i.steps.indexOf(t),1)},PipelineProvider.prototype._clearSteps=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this._findStep(e);t&&(t.steps=[])},PipelineProvider.prototype.reset=function(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")},PipelineProvider.prototype._createPipelineSlot=function(e,t){return new M(this.container,e,t)},PipelineProvider}(),k=a.getLogger("app-router");t.AppRouter=function(t){function AppRouter(e,i,n,r){var o=_possibleConstructorReturn(this,t.call(this,e,i));return o.pipelineProvider=n,o.events=r,o}return _inherits(AppRouter,t),AppRouter.inject=function(){return[u.Container,c.History,x,l.EventAggregator]},AppRouter.prototype.reset=function(){t.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},AppRouter.prototype.loadUrl=function(e){var t=this;return this._createNavigationInstruction(e).then(function(e){return t._queueInstruction(e)}).catch(function(e){k.error(e),restorePreviousLocation(t)})},AppRouter.prototype.registerViewPort=function(i,r){var o=this;if(t.prototype.registerViewPort.call(this,i,r),this.isActive)this._dequeueInstruction();else{var a=function(){var e=o._findViewModel(i);if("configureRouter"in e){if(!o.isConfigured){var t=function(){var t=o._resolveConfiguredPromise;return o._resolveConfiguredPromise=function(){},{v:{v:o.configure(function(t){return e.configureRouter(t,o)}).then(function(){o.activate(),t()})}}}();if("object"===("undefined"==typeof t?"undefined":n(t)))return t.v}}else o.activate()}();if("object"===("undefined"==typeof a?"undefined":n(a)))return a.v}return e.resolve()},AppRouter.prototype.activate=function(e){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,e),this.history.activate(this.options),this._dequeueInstruction())},AppRouter.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},AppRouter.prototype._queueInstruction=function(t){var i=this;return new e(function(e){t.resolve=e,i._queue.unshift(t),i._dequeueInstruction()})},AppRouter.prototype._dequeueInstruction=function(){var t=this,i=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return e.resolve().then(function(){if(!t.isNavigating||i){var e=t._queue.shift();if(t._queue.length=0,e){if(t.isNavigating=!0,e.previousInstruction=t.currentInstruction,i){if(i===t.maxInstructionCount-1)return k.error(i+1+" navigation instructions have been attempted without success. Restoring last known good location."),restorePreviousLocation(t),t._dequeueInstruction(i+1);if(i>t.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else t.events.publish("router:navigation:processing",{instruction:e});var n=t.pipelineProvider.createPipeline();return n.run(e).then(function(n){return processResult(e,n,i,t)}).catch(function(e){return{output:e instanceof Error?e:new Error(e)}}).then(function(n){return resolveInstruction(e,n,!!i,t)})}}})},AppRouter.prototype._findViewModel=function(e){if(this.container.viewModel)return this.container.viewModel;if(e.container)for(var t=e.container;t;){if(t.viewModel)return this.container.viewModel=t.viewModel,t.viewModel;t=t.parent}},AppRouter}(C)}).call(t,i("bluebird"))},"aurelia-templating-resources":function(e,t,i){"use strict";function configure(e){(0,k.injectAureliaHideStyleAtHead)(),e.globalResources("./compose","./if","./with","./repeat","./show","./hide","./replaceable","./sanitize-html","./focus","./binding-mode-behaviors","./throttle-binding-behavior","./debounce-binding-behavior","./signal-binding-behavior","./update-trigger-binding-behavior","./attr-binding-behavior"),(0,_.configure)(e);var t=e.container.get(h.ViewEngine);t.addResourcePlugin(".css",{fetch:function(e){var t;return t={},t[e]=(0,d._createCSSResource)(e),t}})}Object.defineProperty(t,"__esModule",{value:!0}),t.viewsRequireLifecycle=t.unwrapExpression=t.updateOneTimeBinding=t.isOneTime=t.getItemsSourceExpression=t.updateOverrideContext=t.createFullOverrideContext=t.NumberRepeatStrategy=t.SetRepeatStrategy=t.MapRepeatStrategy=t.ArrayRepeatStrategy=t.NullRepeatStrategy=t.RepeatStrategyLocator=t.AbstractRepeater=t.UpdateTriggerBindingBehavior=t.BindingSignaler=t.SignalBindingBehavior=t.DebounceBindingBehavior=t.ThrottleBindingBehavior=t.TwoWayBindingBehavior=t.OneWayBindingBehavior=t.OneTimeBindingBehavior=t.AttrBindingBehavior=t.configure=t.Focus=t.Replaceable=t.SanitizeHTMLValueConverter=t.HTMLSanitizer=t.Hide=t.Show=t.Repeat=t.With=t.If=t.Compose=void 0;var n=i("aurelia-templating-resources/compose.js"),r=i("aurelia-templating-resources/if.js"),o=i("aurelia-templating-resources/with.js"),a=i("aurelia-templating-resources/repeat.js"),s=i("aurelia-templating-resources/show.js"),u=i("aurelia-templating-resources/hide.js"),c=i("aurelia-templating-resources/sanitize-html.js"),l=i("aurelia-templating-resources/replaceable.js"),p=i("aurelia-templating-resources/focus.js"),h=i(2),d=i(36),f=i(25),v=i("aurelia-templating-resources/attr-binding-behavior.js"),g=i("aurelia-templating-resources/binding-mode-behaviors.js"),y=i("aurelia-templating-resources/throttle-binding-behavior.js"),m=i("aurelia-templating-resources/debounce-binding-behavior.js"),b=i("aurelia-templating-resources/signal-binding-behavior.js"),w=i(24),S=i("aurelia-templating-resources/update-trigger-binding-behavior.js"),C=i(21),R=i(29),_=i(38),P=i(27),A=i(23),O=i(26),I=i(30),j=i(28),M=i(11),x=i(22),k=i(18);t.Compose=n.Compose,t.If=r.If,t.With=o.With,t.Repeat=a.Repeat,t.Show=s.Show,t.Hide=u.Hide,t.HTMLSanitizer=f.HTMLSanitizer,t.SanitizeHTMLValueConverter=c.SanitizeHTMLValueConverter,t.Replaceable=l.Replaceable,t.Focus=p.Focus,t.configure=configure,t.AttrBindingBehavior=v.AttrBindingBehavior,t.OneTimeBindingBehavior=g.OneTimeBindingBehavior,t.OneWayBindingBehavior=g.OneWayBindingBehavior,t.TwoWayBindingBehavior=g.TwoWayBindingBehavior,
t.ThrottleBindingBehavior=y.ThrottleBindingBehavior,t.DebounceBindingBehavior=m.DebounceBindingBehavior,t.SignalBindingBehavior=b.SignalBindingBehavior,t.BindingSignaler=w.BindingSignaler,t.UpdateTriggerBindingBehavior=S.UpdateTriggerBindingBehavior,t.AbstractRepeater=C.AbstractRepeater,t.RepeatStrategyLocator=R.RepeatStrategyLocator,t.NullRepeatStrategy=P.NullRepeatStrategy,t.ArrayRepeatStrategy=A.ArrayRepeatStrategy,t.MapRepeatStrategy=O.MapRepeatStrategy,t.SetRepeatStrategy=I.SetRepeatStrategy,t.NumberRepeatStrategy=j.NumberRepeatStrategy,t.createFullOverrideContext=M.createFullOverrideContext,t.updateOverrideContext=M.updateOverrideContext,t.getItemsSourceExpression=M.getItemsSourceExpression,t.isOneTime=M.isOneTime,t.updateOneTimeBinding=M.updateOneTimeBinding,t.unwrapExpression=M.unwrapExpression,t.viewsRequireLifecycle=x.viewsRequireLifecycle},"aurelia-templating-resources/attr-binding-behavior.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttrBindingBehavior=void 0;var n=i(3);t.AttrBindingBehavior=function(){function AttrBindingBehavior(){}return AttrBindingBehavior.prototype.bind=function(e,t){e.targetObserver=new n.DataAttributeObserver(e.target,e.targetProperty)},AttrBindingBehavior.prototype.unbind=function(e,t){},AttrBindingBehavior}()},"aurelia-templating-resources/binding-mode-behaviors.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwoWayBindingBehavior=t.OneWayBindingBehavior=t.OneTimeBindingBehavior=void 0;var n,r,o,a,s,u,c=i(3),l=i(5),p={bind:function(e,t,i){e.originalMode=e.mode,e.mode=this.mode},unbind:function(e,t){e.mode=e.originalMode,e.originalMode=null}};t.OneTimeBindingBehavior=(n=(0,l.mixin)(p),n(r=function(){this.mode=c.bindingMode.oneTime})||r),t.OneWayBindingBehavior=(o=(0,l.mixin)(p),o(a=function(){this.mode=c.bindingMode.oneWay})||a),t.TwoWayBindingBehavior=(s=(0,l.mixin)(p),s(u=function(){this.mode=c.bindingMode.twoWay})||u)},"aurelia-templating-resources/compose.js":function(e,t,i){"use strict";function _initDefineProp(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _applyDecoratedDescriptor(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function createInstruction(e,t){return Object.assign(t,{bindingContext:e.bindingContext,overrideContext:e.overrideContext,owningView:e.owningView,container:e.container,viewSlot:e.viewSlot,viewResources:e.viewResources,currentController:e.currentController,host:e.element})}function processInstruction(e,t){e.currentInstruction=null,e.compositionEngine.compose(t).then(function(t){e.currentController=t,e.currentViewModel=t?t.viewModel:null})}Object.defineProperty(t,"__esModule",{value:!0}),t.Compose=void 0;var n,r,o,a,s,u,c,l=i(0),p=i(9),h=i(2),d=i(1);t.Compose=(n=(0,h.customElement)("compose"),r=(0,l.inject)(d.DOM.Element,l.Container,h.CompositionEngine,h.ViewSlot,h.ViewResources,p.TaskQueue),n(o=(0,h.noView)(o=r((a=function(){function Compose(e,t,i,n,r,o){_initDefineProp(this,"model",s,this),_initDefineProp(this,"view",u,this),_initDefineProp(this,"viewModel",c,this),this.element=e,this.container=t,this.compositionEngine=i,this.viewSlot=n,this.viewResources=r,this.taskQueue=o,this.currentController=null,this.currentViewModel=null}return Compose.prototype.created=function(e){this.owningView=e},Compose.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t,processInstruction(this,createInstruction(this,{view:this.view,viewModel:this.viewModel,model:this.model}))},Compose.prototype.unbind=function(e,t){this.bindingContext=null,this.overrideContext=null;var i=!0,n=!0;this.viewSlot.removeAll(i,n)},Compose.prototype.modelChanged=function(e,t){var i=this;return this.currentInstruction?void(this.currentInstruction.model=e):void this.taskQueue.queueMicroTask(function(){if(i.currentInstruction)return void(i.currentInstruction.model=e);var t=i.currentViewModel;t&&"function"==typeof t.activate&&t.activate(e)})},Compose.prototype.viewChanged=function(e,t){var i=this,n=createInstruction(this,{view:e,viewModel:this.currentViewModel||this.viewModel,model:this.model});return this.currentInstruction?void(this.currentInstruction=n):(this.currentInstruction=n,void this.taskQueue.queueMicroTask(function(){return processInstruction(i,i.currentInstruction)}))},Compose.prototype.viewModelChanged=function(e,t){var i=this,n=createInstruction(this,{viewModel:e,view:this.view,model:this.model});return this.currentInstruction?void(this.currentInstruction=n):(this.currentInstruction=n,void this.taskQueue.queueMicroTask(function(){return processInstruction(i,i.currentInstruction)}))},Compose}(),s=_applyDecoratedDescriptor(a.prototype,"model",[h.bindable],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(a.prototype,"view",[h.bindable],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(a.prototype,"viewModel",[h.bindable],{enumerable:!0,initializer:null}),o=a))||o)||o)||o)},"aurelia-templating-resources/debounce-binding-behavior.js":function(e,t,i){"use strict";function debounce(e){var t=this,i=this.debounceState;return i.immediate?(i.immediate=!1,void this.debouncedMethod(e)):(clearTimeout(i.timeoutId),void(i.timeoutId=setTimeout(function(){return t.debouncedMethod(e)},i.delay)))}Object.defineProperty(t,"__esModule",{value:!0}),t.DebounceBindingBehavior=void 0;var n=i(3);t.DebounceBindingBehavior=function(){function DebounceBindingBehavior(){}return DebounceBindingBehavior.prototype.bind=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?200:arguments[2],r="updateTarget";e.callSource?r="callSource":e.updateSource&&e.mode===n.bindingMode.twoWay&&(r="updateSource"),e.debouncedMethod=e[r],e.debouncedMethod.originalName=r,e[r]=debounce,e.debounceState={delay:i,timeoutId:null,immediate:"updateTarget"===r}},DebounceBindingBehavior.prototype.unbind=function(e,t){var i=e.debouncedMethod.originalName;e[i]=e.debouncedMethod,e.debouncedMethod=null,clearTimeout(e.debounceState.timeoutId),e.debounceState=null},DebounceBindingBehavior}()},"aurelia-templating-resources/focus.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Focus=void 0;var n,r,o,a=i(2),s=i(3),u=i(0),c=i(9),l=i(1);t.Focus=(n=(0,a.customAttribute)("focus",s.bindingMode.twoWay),r=(0,u.inject)(l.DOM.Element,c.TaskQueue),n(o=r(o=function(){function Focus(e,t){var i=this;this.element=e,this.taskQueue=t,this.isAttached=!1,this.needsApply=!1,this.focusListener=function(e){i.value=!0},this.blurListener=function(e){l.DOM.activeElement!==i.element&&(i.value=!1)}}return Focus.prototype.valueChanged=function(e){this.isAttached?this._apply():this.needsApply=!0},Focus.prototype._apply=function(){var e=this;this.value?this.taskQueue.queueMicroTask(function(){e.value&&e.element.focus()}):this.element.blur()},Focus.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this.focusListener),this.element.addEventListener("blur",this.blurListener)},Focus.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this.focusListener),this.element.removeEventListener("blur",this.blurListener)},Focus}())||o)||o)},"aurelia-templating-resources/hide.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hide=void 0;var n,r,o,a=i(0),s=i(2),u=i(1),c=i(18);t.Hide=(n=(0,s.customAttribute)("hide"),r=(0,a.inject)(u.DOM.Element,s.Animator,a.Optional.of(u.DOM.boundary,!0)),n(o=r(o=function(){function Hide(e,t,i){this.element=e,this.animator=t,this.domBoundary=i}return Hide.prototype.created=function(){(0,c.injectAureliaHideStyleAtBoundary)(this.domBoundary)},Hide.prototype.valueChanged=function(e){e?this.animator.addClass(this.element,c.aureliaHideClassName):this.animator.removeClass(this.element,c.aureliaHideClassName)},Hide.prototype.bind=function(e){this.valueChanged(this.value)},Hide}())||o)||o)},"aurelia-templating-resources/if.js":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.If=void 0;var n,r,o,a=i(2),s=i(0);t.If=(n=(0,a.customAttribute)("if"),r=(0,s.inject)(a.BoundViewFactory,a.ViewSlot),n(o=(0,a.templateController)(o=r(o=function(){function If(e,t){this.viewFactory=e,this.viewSlot=t,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}return If.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t,this.valueChanged(this.value)},If.prototype.valueChanged=function(t){var i=this;if(this.__queuedChanges)return void this.__queuedChanges.push(t);var n=this._runValueChanged(t);n instanceof e&&!function(){var t=i.__queuedChanges=[],r=function runQueuedChanges(){if(!t.length)return void(i.__queuedChanges=void 0);var n=i._runValueChanged(t.shift())||e.resolve();n.then(runQueuedChanges)};n.then(r)}()},If.prototype._runValueChanged=function(t){var i=this;if(!t){var n=void 0;return null!==this.view&&this.showing&&(n=this.viewSlot.remove(this.view),n instanceof e?n.then(function(){return i.view.unbind()}):this.view.unbind()),this.showing=!1,n}if(null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),!this.showing)return this.showing=!0,this.viewSlot.add(this.view)},If.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))},If}())||o)||o)||o)}).call(t,i("bluebird"))},"aurelia-templating-resources/repeat.js":function(e,t,i){"use strict";function _initDefineProp(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _applyDecoratedDescriptor(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.Repeat=void 0;var n,r,o,a,s,u,c,l,p=i(0),h=i(3),d=i(2),f=i(29),v=i(11),g=i(22),y=i(21);t.Repeat=(n=(0,d.customAttribute)("repeat"),r=(0,p.inject)(d.BoundViewFactory,d.TargetInstruction,d.ViewSlot,d.ViewResources,h.ObserverLocator,f.RepeatStrategyLocator),n(o=(0,d.templateController)(o=r((a=function(e){function Repeat(t,i,n,r,o,a){var p=_possibleConstructorReturn(this,e.call(this,{local:"item",viewsRequireLifecycle:(0,g.viewsRequireLifecycle)(t)}));return _initDefineProp(p,"items",s,p),_initDefineProp(p,"local",u,p),_initDefineProp(p,"key",c,p),_initDefineProp(p,"value",l,p),p.viewFactory=t,p.instruction=i,p.viewSlot=n,p.lookupFunctions=r.lookupFunctions,p.observerLocator=o,p.key="key",p.value="value",p.strategyLocator=a,p.ignoreMutation=!1,p.sourceExpression=(0,v.getItemsSourceExpression)(p.instruction,"repeat.for"),p.isOneTime=(0,v.isOneTime)(p.sourceExpression),p.viewsRequireLifecycle=(0,g.viewsRequireLifecycle)(t),p}return _inherits(Repeat,e),Repeat.prototype.call=function(e,t){this[e](this.items,t)},Repeat.prototype.bind=function(e,t){this.scope={bindingContext:e,overrideContext:t},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()},Repeat.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()},Repeat.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},Repeat.prototype.itemsChanged=function(){if(this._unsubscribeCollection(),this.scope){var e=this.items;if(this.strategy=this.strategyLocator.getStrategy(e),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,e)}},Repeat.prototype._getInnerCollection=function(){var e=(0,v.unwrapExpression)(this.sourceExpression);return e?e.evaluate(this.scope,null):null},Repeat.prototype.handleCollectionMutated=function(e,t){this.collectionObserver&&this.strategy.instanceMutated(this,e,t)},Repeat.prototype.handleInnerCollectionMutated=function(e,t){var i=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var n=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(function(){return i.ignoreMutation=!1}),n===this.items?this.itemsChanged():this.items=n}},Repeat.prototype._observeInnerCollection=function(){var e=this._getInnerCollection(),t=this.strategyLocator.getStrategy(e);return!!t&&(this.collectionObserver=t.getCollectionObserver(this.observerLocator,e),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},Repeat.prototype._observeCollection=function(){var e=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,e),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},Repeat.prototype._captureAndRemoveMatcherBinding=function(){if(this.viewFactory.viewFactory)for(var e=this.viewFactory.viewFactory.instructions,t=Object.keys(e),i=0;i<t.length;i++){var n=e[t[i]].expressions;if(n)for(var r=0;i<n.length;i++)if("matcher"===n[r].targetProperty){var o=n[r];return n.splice(r,1),o}}},Repeat.prototype.viewCount=function(){return this.viewSlot.children.length},Repeat.prototype.views=function(){return this.viewSlot.children},Repeat.prototype.view=function(e){return this.viewSlot.children[e]},Repeat.prototype.matcher=function(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null},Repeat.prototype.addView=function(e,t){var i=this.viewFactory.create();i.bind(e,t),this.viewSlot.add(i)},Repeat.prototype.insertView=function(e,t,i){var n=this.viewFactory.create();n.bind(t,i),this.viewSlot.insert(e,n)},Repeat.prototype.moveView=function(e,t){this.viewSlot.move(e,t)},Repeat.prototype.removeAllViews=function(e,t){return this.viewSlot.removeAll(e,t)},Repeat.prototype.removeViews=function(e,t,i){return this.viewSlot.removeMany(e,t,i)},Repeat.prototype.removeView=function(e,t,i){return this.viewSlot.removeAt(e,t,i)},Repeat.prototype.updateBindings=function(e){for(var t=e.bindings.length;t--;)(0,v.updateOneTimeBinding)(e.bindings[t]);for(t=e.controllers.length;t--;)for(var i=e.controllers[t].boundProperties.length;i--;){var n=e.controllers[t].boundProperties[i].binding;(0,v.updateOneTimeBinding)(n)}},Repeat}(y.AbstractRepeater),s=_applyDecoratedDescriptor(a.prototype,"items",[d.bindable],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(a.prototype,"local",[d.bindable],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(a.prototype,"key",[d.bindable],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(a.prototype,"value",[d.bindable],{enumerable:!0,initializer:null}),o=a))||o)||o)||o)},"aurelia-templating-resources/replaceable.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Replaceable=void 0;var n,r,o,a=i(0),s=i(2);t.Replaceable=(n=(0,s.customAttribute)("replaceable"),r=(0,a.inject)(s.BoundViewFactory,s.ViewSlot),n(o=(0,s.templateController)(o=r(o=function(){function Replaceable(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null}return Replaceable.prototype.bind=function(e,t){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(e,t)},Replaceable.prototype.unbind=function(){this.view.unbind()},Replaceable}())||o)||o)||o)},"aurelia-templating-resources/sanitize-html.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SanitizeHTMLValueConverter=void 0;var n,r,o,a=i(3),s=i(0),u=i(25);t.SanitizeHTMLValueConverter=(n=(0,a.valueConverter)("sanitizeHTML"),r=(0,s.inject)(u.HTMLSanitizer),n(o=r(o=function(){function SanitizeHTMLValueConverter(e){this.sanitizer=e}return SanitizeHTMLValueConverter.prototype.toView=function(e){return null===e||void 0===e?null:this.sanitizer.sanitize(e)},SanitizeHTMLValueConverter}())||o)||o)},"aurelia-templating-resources/show.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Show=void 0;var n,r,o,a=i(0),s=i(2),u=i(1),c=i(18);t.Show=(n=(0,s.customAttribute)("show"),r=(0,a.inject)(u.DOM.Element,s.Animator,a.Optional.of(u.DOM.boundary,!0)),n(o=r(o=function(){function Show(e,t,i){this.element=e,this.animator=t,this.domBoundary=i}return Show.prototype.created=function(){(0,c.injectAureliaHideStyleAtBoundary)(this.domBoundary)},Show.prototype.valueChanged=function(e){e?this.animator.removeClass(this.element,c.aureliaHideClassName):this.animator.addClass(this.element,c.aureliaHideClassName)},Show.prototype.bind=function(e){this.valueChanged(this.value)},Show}())||o)||o)},"aurelia-templating-resources/signal-binding-behavior.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalBindingBehavior=void 0;var n=i(24);t.SignalBindingBehavior=function(){function SignalBindingBehavior(e){this.signals=e.signals}return SignalBindingBehavior.inject=function(){return[n.BindingSignaler]},SignalBindingBehavior.prototype.bind=function(e,t){if(!e.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");if(3===arguments.length){var i=arguments[2],n=this.signals[i]||(this.signals[i]=[]);n.push(e),e.signalName=i}else{if(!(arguments.length>3))throw new Error("Signal name is required.");for(var r=Array.prototype.slice.call(arguments,2),o=r.length;o--;){var a=r[o],s=this.signals[a]||(this.signals[a]=[]);s.push(e)}e.signalName=r}},SignalBindingBehavior.prototype.unbind=function(e,t){var i=e.signalName;if(e.signalName=null,Array.isArray(i))for(var n=i,r=n.length;r--;){var o=n[r],a=this.signals[o];a.splice(a.indexOf(e),1)}else{var s=this.signals[i];s.splice(s.indexOf(e),1)}},SignalBindingBehavior}()},"aurelia-templating-resources/throttle-binding-behavior.js":function(e,t,i){"use strict";function throttle(e){var t=this,i=this.throttleState,n=+new Date-i.last;return n>=i.delay?(clearTimeout(i.timeoutId),i.timeoutId=null,i.last=+new Date,void this.throttledMethod(e)):(i.newValue=e,void(null===i.timeoutId&&(i.timeoutId=setTimeout(function(){i.timeoutId=null,i.last=+new Date,t.throttledMethod(i.newValue)},i.delay-n))))}Object.defineProperty(t,"__esModule",{value:!0}),t.ThrottleBindingBehavior=void 0;var n=i(3);t.ThrottleBindingBehavior=function(){function ThrottleBindingBehavior(){}return ThrottleBindingBehavior.prototype.bind=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?200:arguments[2],r="updateTarget";e.callSource?r="callSource":e.updateSource&&e.mode===n.bindingMode.twoWay&&(r="updateSource"),e.throttledMethod=e[r],e.throttledMethod.originalName=r,e[r]=throttle,e.throttleState={delay:i,last:0,timeoutId:null}},ThrottleBindingBehavior.prototype.unbind=function(e,t){var i=e.throttledMethod.originalName;e[i]=e.throttledMethod,e.throttledMethod=null,clearTimeout(e.throttleState.timeoutId),e.throttleState=null},ThrottleBindingBehavior}()},"aurelia-templating-resources/update-trigger-binding-behavior.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTriggerBindingBehavior=void 0;var n,r,o=i(3),a="The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">",s="The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.";t.UpdateTriggerBindingBehavior=(r=n=function(){function UpdateTriggerBindingBehavior(e){this.eventManager=e}return UpdateTriggerBindingBehavior.prototype.bind=function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];if(0===n.length)throw new Error(a);if(e.mode!==o.bindingMode.twoWay)throw new Error(s);var u=e.observerLocator.getObserver(e.target,e.targetProperty);if(!u.handler)throw new Error(s);e.targetObserver=u,u.originalHandler=e.targetObserver.handler;var c=this.eventManager.createElementHandler(n);u.handler=c},UpdateTriggerBindingBehavior.prototype.unbind=function(e,t){e.targetObserver.handler=e.targetObserver.originalHandler,e.targetObserver.originalHandler=null},UpdateTriggerBindingBehavior}(),n.inject=[o.EventManager],r)},"aurelia-templating-resources/with.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.With=void 0;var n,r,o,a=i(0),s=i(2),u=i(3);t.With=(n=(0,s.customAttribute)("with"),r=(0,a.inject)(s.BoundViewFactory,s.ViewSlot),n(o=(0,s.templateController)(o=r(o=function(){function With(e,t){this.viewFactory=e,this.viewSlot=t,this.parentOverrideContext=null,this.view=null}return With.prototype.bind=function(e,t){this.parentOverrideContext=t,this.valueChanged(this.value)},With.prototype.valueChanged=function(e){var t=(0,u.createOverrideContext)(e,this.parentOverrideContext);this.view?this.view.bind(e,t):(this.view=this.viewFactory.create(),this.view.bind(e,t),this.viewSlot.add(this.view))},With.prototype.unbind=function(){this.parentOverrideContext=null,this.view&&this.view.unbind()},With}())||o)||o)||o)},"aurelia-templating-router":function(e,t,i){"use strict";function configure(e){e.singleton(n.RouteLoader,r.TemplatingRouteLoader).singleton(n.Router,n.AppRouter).globalResources("./router-view","./route-href"),e.container.registerAlias(n.Router,n.AppRouter)}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=t.RouteHref=t.RouterView=t.TemplatingRouteLoader=void 0;var n=i("aurelia-router"),r=i(39),o=i("aurelia-templating-router/router-view.js"),a=i("aurelia-templating-router/route-href.js");t.TemplatingRouteLoader=r.TemplatingRouteLoader,t.RouterView=o.RouterView,t.RouteHref=a.RouteHref,t.configure=configure},"aurelia-templating-router/route-href.js":function(e,t,i){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.RouteHref=void 0;var n,r,o,a,s,u,c=i(2),l=i(0),p=i("aurelia-router"),h=i(1),d=i(4),f=_interopRequireWildcard(d),v=f.getLogger("route-href");t.RouteHref=(n=(0,c.customAttribute)("route-href"),r=(0,c.bindable)({name:"route",changeHandler:"processChange"}),o=(0,c.bindable)({name:"params",changeHandler:"processChange"}),a=(0,c.bindable)({name:"attribute",defaultValue:"href"}),s=(0,l.inject)(p.Router,h.DOM.Element),n(u=r(u=o(u=a(u=s(u=function(){function RouteHref(e,t){this.router=e,this.element=t}return RouteHref.prototype.bind=function(){this.isActive=!0,this.processChange()},RouteHref.prototype.unbind=function(){this.isActive=!1},RouteHref.prototype.attributeChanged=function(e,t){t&&this.element.removeAttribute(t),this.processChange()},RouteHref.prototype.processChange=function(){var e=this;return this.router.ensureConfigured().then(function(){if(!e.isActive)return null;var t=e.router.generate(e.route,e.params);return e.element.setAttribute(e.attribute,t),null}).catch(function(e){v.error(e)})},RouteHref}())||u)||u)||u)||u)||u)},"aurelia-templating-router/router-view.js":function(e,t,i){"use strict";(function(e){function _initDefineProp(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _applyDecoratedDescriptor(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.RouterView=void 0;var n,r,o,a,s,u,c,l,p=i(0),h=i(2),d=i("aurelia-router"),f=i(5),v=i(1),g=function(){function SwapStrategies(){}return SwapStrategies.prototype.before=function(t,i,n){var r=e.resolve(n());return void 0!==i?r.then(function(){return t.remove(i,!0)}):r},SwapStrategies.prototype.with=function(t,i,n){var r=e.resolve(n());return void 0!==i?e.all([t.remove(i,!0),r]):r},SwapStrategies.prototype.after=function(t,i,n){return e.resolve(t.removeAll(!0)).then(n)},SwapStrategies}(),y=new g;t.RouterView=(n=(0,h.customElement)("router-view"),r=(0,p.inject)(v.DOM.Element,p.Container,h.ViewSlot,d.Router,h.ViewLocator,h.CompositionTransaction,h.CompositionEngine),n(o=(0,h.noView)(o=r((a=function(){function RouterView(e,t,i,n,r,o,a){_initDefineProp(this,"swapOrder",s,this),_initDefineProp(this,"layoutView",u,this),_initDefineProp(this,"layoutViewModel",c,this),_initDefineProp(this,"layoutModel",l,this),this.element=e,this.container=t,this.viewSlot=i,this.router=n,this.viewLocator=r,this.compositionTransaction=o,this.compositionEngine=a,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in o||(o.initialComposition=!0,this.compositionTransactionNotifier=o.enlist())}return RouterView.prototype.created=function(e){this.owningView=e},RouterView.prototype.bind=function(e,t){this.container.viewModel=e,this.overrideContext=t},RouterView.prototype.process=function(e,t){var i=this,n=e.component,r=n.childContainer,o=n.viewModel,a=n.viewModelResource,s=a.metadata,u=n.router.currentInstruction.config,c=u.viewPorts?u.viewPorts[e.name]:{},l={viewModel:c.layoutViewModel||u.layoutViewModel||this.layoutViewModel,view:c.layoutView||u.layoutView||this.layoutView,model:c.layoutModel||u.layoutModel||this.layoutModel,router:e.component.router,childContainer:r,viewSlot:this.viewSlot},p=this.viewLocator.getViewStrategy(n.view||o);return p&&n.view&&p.makeRelativeTo(f.Origin.get(n.router.container.viewModel.constructor).moduleId),s.load(r,a.value,null,p,!0).then(function(n){i.compositionTransactionNotifier||(i.compositionTransactionOwnershipToken=i.compositionTransaction.tryCapture()),(l.viewModel||l.view)&&(e.layoutInstruction=l),e.controller=s.create(r,h.BehaviorInstruction.dynamic(i.element,o,n)),t||i.swap(e)})},RouterView.prototype.swap=function(t){var i=this,n=function(){var n=i.view,r=void 0,o=i.viewSlot,a=t.layoutInstruction;(r=i.swapOrder in y?y[i.swapOrder]:y.after)(o,n,function(){var n=void 0;return a?(a.viewModel||(a.viewModel={}),n=i.compositionEngine.createController(a).then(function(e){return h.ShadowDOM.distributeView(t.controller.view,e.slots||e.view.slots),e.view||e})):n=e.resolve(t.controller.view),n.then(function(e){return i.view=e,o.add(e)}).then(function(){i._notify()})})};return t.controller.automate(this.overrideContext,this.owningView),this.compositionTransactionOwnershipToken?this.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return i.compositionTransactionOwnershipToken=null,n()}):n()},RouterView.prototype._notify=function(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)},RouterView}(),s=_applyDecoratedDescriptor(a.prototype,"swapOrder",[h.bindable],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(a.prototype,"layoutView",[h.bindable],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(a.prototype,"layoutViewModel",[h.bindable],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(a.prototype,"layoutModel",[h.bindable],{enumerable:!0,initializer:null}),o=a))||o)||o)||o)}).call(t,i("bluebird"))}},[62]);